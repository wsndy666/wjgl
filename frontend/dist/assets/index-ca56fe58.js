import{r as U,c as ts,a as rs,R as $,g as Gr}from"./vendor-fa9da516.js";import{u as Yr,a as ns,R as dr,b as pe,N as Pt,B as ss}from"./router-e5f131b4.js";import{_ as is,a as N,C as W,F as E,I as B,U as de,L as it,B as A,T as er,m as T,S as Xr,R as _t,b as ie,c as ge,d as Nt,e as Ye,f as fr,g as as,h as At,A as qe,D as It,i as Tt,j as fe,k as Zr,l as ce,n as hr,o as os,P as $t,p as Bt,q as tr,M as ke,r as en,s as Le,t as je,E as tn,u as ls,v as rn,w as us,x as pr,y as cs,z as nn,G as ds,H as Qt,J as He,K as Mt,N as fs,O as zt,Q as hs,V as mr,W as yr,X as ps,Y as ms,Z as vr,$ as ys,a0 as vs,a1 as gs}from"./antd-afcaf04c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var sn={exports:{}},pt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xs=U,bs=Symbol.for("react.element"),js=Symbol.for("react.fragment"),ws=Object.prototype.hasOwnProperty,Ss=xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Os={key:!0,ref:!0,__self:!0,__source:!0};function an(e,t,s){var r,n={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ws.call(t,r)&&!Os.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:bs,type:e,key:i,ref:o,props:n,_owner:Ss.current}}pt.Fragment=js;pt.jsx=an;pt.jsxs=an;sn.exports=pt;var a=sn.exports,Kt={},gr=ts;Kt.createRoot=gr.createRoot,Kt.hydrateRoot=gr.hydrateRoot;function Fe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,is(e,t)}var Pe=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(r){var n=this,i=r||function(){};return this.listeners.push(i),this.onSubscribe(),function(){n.listeners=n.listeners.filter(function(o){return o!==i}),n.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}(),at=typeof window>"u";function J(){}function Cs(e,t){return typeof e=="function"?e(t):e}function Ht(e){return typeof e=="number"&&e>=0&&e!==1/0}function ot(e){return Array.isArray(e)?e:[e]}function on(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Xe(e,t,s){return Ie(e)?typeof t=="function"?N({},s,{queryKey:e,queryFn:t}):N({},t,{queryKey:e}):e}function Rs(e,t,s){return Ie(e)?typeof t=="function"?N({},s,{mutationKey:e,mutationFn:t}):N({},t,{mutationKey:e}):typeof e=="function"?N({},t,{mutationFn:e}):N({},e)}function be(e,t,s){return Ie(e)?[N({},t,{queryKey:e}),s]:[e||{},t]}function Es(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var s=e??!t;return s?"active":"inactive"}function xr(e,t){var s=e.active,r=e.exact,n=e.fetching,i=e.inactive,o=e.predicate,l=e.queryKey,d=e.stale;if(Ie(l)){if(r){if(t.queryHash!==rr(l,t.options))return!1}else if(!lt(t.queryKey,l))return!1}var u=Es(s,i);if(u==="none")return!1;if(u!=="all"){var c=t.isActive();if(u==="active"&&!c||u==="inactive"&&c)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||typeof n=="boolean"&&t.isFetching()!==n||o&&!o(t))}function br(e,t){var s=e.exact,r=e.fetching,n=e.predicate,i=e.mutationKey;if(Ie(i)){if(!t.options.mutationKey)return!1;if(s){if(we(t.options.mutationKey)!==we(i))return!1}else if(!lt(t.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||n&&!n(t))}function rr(e,t){var s=(t==null?void 0:t.queryKeyHashFn)||we;return s(e)}function we(e){var t=ot(e);return Fs(t)}function Fs(e){return JSON.stringify(e,function(t,s){return Vt(s)?Object.keys(s).sort().reduce(function(r,n){return r[n]=s[n],r},{}):s})}function lt(e,t){return ln(ot(e),ot(t))}function ln(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(s){return!ln(e[s],t[s])}):!1}function ut(e,t){if(e===t)return e;var s=Array.isArray(e)&&Array.isArray(t);if(s||Vt(e)&&Vt(t)){for(var r=s?e.length:Object.keys(e).length,n=s?t:Object.keys(t),i=n.length,o=s?[]:{},l=0,d=0;d<i;d++){var u=s?d:n[d];o[u]=ut(e[u],t[u]),o[u]===e[u]&&l++}return r===i&&l===r?e:o}return t}function Ps(e,t){if(e&&!t||t&&!e)return!1;for(var s in e)if(e[s]!==t[s])return!1;return!0}function Vt(e){if(!jr(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var s=t.prototype;return!(!jr(s)||!s.hasOwnProperty("isPrototypeOf"))}function jr(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ie(e){return typeof e=="string"||Array.isArray(e)}function _s(e){return new Promise(function(t){setTimeout(t,e)})}function wr(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function un(){if(typeof AbortController=="function")return new AbortController}var Ns=function(e){Fe(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(n){var i;if(!at&&((i=window)!=null&&i.addEventListener)){var o=function(){return n()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var s=t.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},s.setEventListener=function(n){var i,o=this;this.setup=n,(i=this.cleanup)==null||i.call(this),this.cleanup=n(function(l){typeof l=="boolean"?o.setFocused(l):o.onFocus()})},s.setFocused=function(n){this.focused=n,n&&this.onFocus()},s.onFocus=function(){this.listeners.forEach(function(n){n()})},s.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(Pe),Ue=new Ns,As=function(e){Fe(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(n){var i;if(!at&&((i=window)!=null&&i.addEventListener)){var o=function(){return n()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var s=t.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},s.setEventListener=function(n){var i,o=this;this.setup=n,(i=this.cleanup)==null||i.call(this),this.cleanup=n(function(l){typeof l=="boolean"?o.setOnline(l):o.onOnline()})},s.setOnline=function(n){this.online=n,n&&this.onOnline()},s.onOnline=function(){this.listeners.forEach(function(n){n()})},s.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(Pe),Ze=new As;function Ts(e){return Math.min(1e3*Math.pow(2,e),3e4)}function ct(e){return typeof(e==null?void 0:e.cancel)=="function"}var cn=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function et(e){return e instanceof cn}var dn=function(t){var s=this,r=!1,n,i,o,l;this.abort=t.abort,this.cancel=function(v){return n==null?void 0:n(v)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(v,y){o=v,l=y});var d=function(y){s.isResolved||(s.isResolved=!0,t.onSuccess==null||t.onSuccess(y),i==null||i(),o(y))},u=function(y){s.isResolved||(s.isResolved=!0,t.onError==null||t.onError(y),i==null||i(),l(y))},c=function(){return new Promise(function(y){i=y,s.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){i=void 0,s.isPaused=!1,t.onContinue==null||t.onContinue()})},p=function v(){if(!s.isResolved){var y;try{y=t.fn()}catch(f){y=Promise.reject(f)}n=function(g){if(!s.isResolved&&(u(new cn(g)),s.abort==null||s.abort(),ct(y)))try{y.cancel()}catch{}},s.isTransportCancelable=ct(y),Promise.resolve(y).then(d).catch(function(f){var g,b;if(!s.isResolved){var O=(g=t.retry)!=null?g:3,P=(b=t.retryDelay)!=null?b:Ts,m=typeof P=="function"?P(s.failureCount,f):P,w=O===!0||typeof O=="number"&&s.failureCount<O||typeof O=="function"&&O(s.failureCount,f);if(r||!w){u(f);return}s.failureCount++,t.onFail==null||t.onFail(s.failureCount,f),_s(m).then(function(){if(!Ue.isFocused()||!Ze.isOnline())return c()}).then(function(){r?u(f):v()})}})}};p()},Ms=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(s){s()},this.batchNotifyFn=function(s){s()}}var t=e.prototype;return t.batch=function(r){var n;this.transactions++;try{n=r()}finally{this.transactions--,this.transactions||this.flush()}return n},t.schedule=function(r){var n=this;this.transactions?this.queue.push(r):wr(function(){n.notifyFn(r)})},t.batchCalls=function(r){var n=this;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];n.schedule(function(){r.apply(void 0,o)})}},t.flush=function(){var r=this,n=this.queue;this.queue=[],n.length&&wr(function(){r.batchNotifyFn(function(){n.forEach(function(i){r.notifyFn(i)})})})},t.setNotifyFunction=function(r){this.notifyFn=r},t.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},e}(),L=new Ms,fn=console;function dt(){return fn}function Ds(e){fn=e}var ks=function(){function e(s){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.cache=s.cache,this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.initialState=s.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=s.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(r){var n;this.options=N({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(n=this.options.cacheTime)!=null?n:5*60*1e3)},t.setDefaultOptions=function(r){this.defaultOptions=r},t.scheduleGc=function(){var r=this;this.clearGcTimeout(),Ht(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(r,n){var i,o,l=this.state.data,d=Cs(r,l);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,l,d)?d=l:this.options.structuralSharing!==!1&&(d=ut(l,d)),this.dispatch({data:d,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt}),d},t.setState=function(r,n){this.dispatch({type:"setState",state:r,setStateOptions:n})},t.cancel=function(r){var n,i=this.promise;return(n=this.retryer)==null||n.cancel(r),i?i.then(J).catch(J):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},t.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!on(this.state.dataUpdatedAt,r)},t.onFocus=function(){var r,n=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});n&&n.refetch(),(r=this.retryer)==null||r.continue()},t.onOnline=function(){var r,n=this.observers.find(function(i){return i.shouldFetchOnReconnect()});n&&n.refetch(),(r=this.retryer)==null||r.continue()},t.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},t.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(n){return n!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(r,n){var i=this,o,l,d;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var c=this.observers.find(function(P){return P.options.queryFn});c&&this.setOptions(c.options)}var p=ot(this.queryKey),v=un(),y={queryKey:p,pageParam:void 0,meta:this.meta};Object.defineProperty(y,"signal",{enumerable:!0,get:function(){if(v)return i.abortSignalConsumed=!0,v.signal}});var f=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(y)):Promise.reject("Missing queryFn")},g={fetchOptions:n,options:this.options,queryKey:p,state:this.state,fetchFn:f,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var b;(b=this.options.behavior)==null||b.onFetch(g)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=g.fetchOptions)==null?void 0:l.meta)){var O;this.dispatch({type:"fetch",meta:(O=g.fetchOptions)==null?void 0:O.meta})}return this.retryer=new dn({fn:g.fetchFn,abort:v==null||(d=v.abort)==null?void 0:d.bind(v),onSuccess:function(m){i.setData(m),i.cache.config.onSuccess==null||i.cache.config.onSuccess(m,i),i.cacheTime===0&&i.optionalRemove()},onError:function(m){et(m)&&m.silent||i.dispatch({type:"error",error:m}),et(m)||(i.cache.config.onError==null||i.cache.config.onError(m,i),dt().error(m)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(r){var n=this;this.state=this.reducer(this.state,r),L.batch(function(){n.observers.forEach(function(i){i.onQueryUpdate(r)}),n.cache.notify({query:n,type:"queryUpdated",action:r})})},t.getDefaultState=function(r){var n=typeof r.initialData=="function"?r.initialData():r.initialData,i=typeof r.initialData<"u",o=i?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,l=typeof n<"u";return{data:n,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},t.reducer=function(r,n){var i,o;switch(n.type){case"failed":return N({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return N({},r,{isPaused:!0});case"continue":return N({},r,{isPaused:!1});case"fetch":return N({},r,{fetchFailureCount:0,fetchMeta:(i=n.meta)!=null?i:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return N({},r,{data:n.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=n.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=n.error;return et(l)&&l.revert&&this.revertState?N({},this.revertState):N({},r,{error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return N({},r,{isInvalidated:!0});case"setState":return N({},r,n.state);default:return r}},e}(),Us=function(e){Fe(t,e);function t(r){var n;return n=e.call(this)||this,n.config=r||{},n.queries=[],n.queriesMap={},n}var s=t.prototype;return s.build=function(n,i,o){var l,d=i.queryKey,u=(l=i.queryHash)!=null?l:rr(d,i),c=this.get(u);return c||(c=new ks({cache:this,queryKey:d,queryHash:u,options:n.defaultQueryOptions(i),state:o,defaultOptions:n.getQueryDefaults(d),meta:i.meta}),this.add(c)),c},s.add=function(n){this.queriesMap[n.queryHash]||(this.queriesMap[n.queryHash]=n,this.queries.push(n),this.notify({type:"queryAdded",query:n}))},s.remove=function(n){var i=this.queriesMap[n.queryHash];i&&(n.destroy(),this.queries=this.queries.filter(function(o){return o!==n}),i===n&&delete this.queriesMap[n.queryHash],this.notify({type:"queryRemoved",query:n}))},s.clear=function(){var n=this;L.batch(function(){n.queries.forEach(function(i){n.remove(i)})})},s.get=function(n){return this.queriesMap[n]},s.getAll=function(){return this.queries},s.find=function(n,i){var o=be(n,i),l=o[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(d){return xr(l,d)})},s.findAll=function(n,i){var o=be(n,i),l=o[0];return Object.keys(l).length>0?this.queries.filter(function(d){return xr(l,d)}):this.queries},s.notify=function(n){var i=this;L.batch(function(){i.listeners.forEach(function(o){o(n)})})},s.onFocus=function(){var n=this;L.batch(function(){n.queries.forEach(function(i){i.onFocus()})})},s.onOnline=function(){var n=this;L.batch(function(){n.queries.forEach(function(i){i.onOnline()})})},t}(Pe),qs=function(){function e(s){this.options=N({},s.defaultOptions,s.options),this.mutationId=s.mutationId,this.mutationCache=s.mutationCache,this.observers=[],this.state=s.state||hn(),this.meta=s.meta}var t=e.prototype;return t.setState=function(r){this.dispatch({type:"setState",state:r})},t.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},t.removeObserver=function(r){this.observers=this.observers.filter(function(n){return n!==r})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(J).catch(J)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var r=this,n,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(l){l!==r.state.context&&r.dispatch({type:"loading",context:l,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(l){n=l,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(n,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(n,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(n,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:n}),n}).catch(function(l){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(l,r.state.variables,r.state.context,r),dt().error(l),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(l,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,l,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:l}),l})})},t.executeMutation=function(){var r=this,n;return this.retryer=new dn({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(n=this.options.retry)!=null?n:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(r){var n=this;this.state=Ls(this.state,r),L.batch(function(){n.observers.forEach(function(i){i.onMutationUpdate(r)}),n.mutationCache.notify(n)})},e}();function hn(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Ls(e,t){switch(t.type){case"failed":return N({},e,{failureCount:e.failureCount+1});case"pause":return N({},e,{isPaused:!0});case"continue":return N({},e,{isPaused:!1});case"loading":return N({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return N({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return N({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return N({},e,t.state);default:return e}}var Is=function(e){Fe(t,e);function t(r){var n;return n=e.call(this)||this,n.config=r||{},n.mutations=[],n.mutationId=0,n}var s=t.prototype;return s.build=function(n,i,o){var l=new qs({mutationCache:this,mutationId:++this.mutationId,options:n.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?n.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(l),l},s.add=function(n){this.mutations.push(n),this.notify(n)},s.remove=function(n){this.mutations=this.mutations.filter(function(i){return i!==n}),n.cancel(),this.notify(n)},s.clear=function(){var n=this;L.batch(function(){n.mutations.forEach(function(i){n.remove(i)})})},s.getAll=function(){return this.mutations},s.find=function(n){return typeof n.exact>"u"&&(n.exact=!0),this.mutations.find(function(i){return br(n,i)})},s.findAll=function(n){return this.mutations.filter(function(i){return br(n,i)})},s.notify=function(n){var i=this;L.batch(function(){i.listeners.forEach(function(o){o(n)})})},s.onFocus=function(){this.resumePausedMutations()},s.onOnline=function(){this.resumePausedMutations()},s.resumePausedMutations=function(){var n=this.mutations.filter(function(i){return i.state.isPaused});return L.batch(function(){return n.reduce(function(i,o){return i.then(function(){return o.continue().catch(J)})},Promise.resolve())})},t}(Pe);function $s(){return{onFetch:function(t){t.fetchFn=function(){var s,r,n,i,o,l,d=(s=t.fetchOptions)==null||(r=s.meta)==null?void 0:r.refetchPage,u=(n=t.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,c=u==null?void 0:u.pageParam,p=(u==null?void 0:u.direction)==="forward",v=(u==null?void 0:u.direction)==="backward",y=((o=t.state.data)==null?void 0:o.pages)||[],f=((l=t.state.data)==null?void 0:l.pageParams)||[],g=un(),b=g==null?void 0:g.signal,O=f,P=!1,m=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},w=function(K,ne,I,le){return O=le?[ne].concat(O):[].concat(O,[ne]),le?[I].concat(K):[].concat(K,[I])},M=function(K,ne,I,le){if(P)return Promise.reject("Cancelled");if(typeof I>"u"&&!ne&&K.length)return Promise.resolve(K);var z={queryKey:t.queryKey,signal:b,pageParam:I,meta:t.meta},re=m(z),ve=Promise.resolve(re).then(function(se){return w(K,I,se,le)});if(ct(re)){var Z=ve;Z.cancel=re.cancel}return ve},R;if(!y.length)R=M([]);else if(p){var q=typeof c<"u",S=q?c:Sr(t.options,y);R=M(y,q,S)}else if(v){var C=typeof c<"u",D=C?c:Bs(t.options,y);R=M(y,C,D,!0)}else(function(){O=[];var Y=typeof t.options.getNextPageParam>"u",K=d&&y[0]?d(y[0],0,y):!0;R=K?M([],Y,f[0]):Promise.resolve(w([],f[0],y[0]));for(var ne=function(z){R=R.then(function(re){var ve=d&&y[z]?d(y[z],z,y):!0;if(ve){var Z=Y?f[z]:Sr(t.options,re);return M(re,Y,Z)}return Promise.resolve(w(re,f[z],y[z]))})},I=1;I<y.length;I++)ne(I)})();var he=R.then(function(Y){return{pages:Y,pageParams:O}}),X=he;return X.cancel=function(){P=!0,g==null||g.abort(),ct(R)&&R.cancel()},he}}}}function Sr(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function Bs(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var Qs=function(){function e(s){s===void 0&&(s={}),this.queryCache=s.queryCache||new Us,this.mutationCache=s.mutationCache||new Is,this.defaultOptions=s.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var r=this;this.unsubscribeFocus=Ue.subscribe(function(){Ue.isFocused()&&Ze.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=Ze.subscribe(function(){Ue.isFocused()&&Ze.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},t.unmount=function(){var r,n;(r=this.unsubscribeFocus)==null||r.call(this),(n=this.unsubscribeOnline)==null||n.call(this)},t.isFetching=function(r,n){var i=be(r,n),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},t.isMutating=function(r){return this.mutationCache.findAll(N({},r,{fetching:!0})).length},t.getQueryData=function(r,n){var i;return(i=this.queryCache.find(r,n))==null?void 0:i.state.data},t.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(n){var i=n.queryKey,o=n.state,l=o.data;return[i,l]})},t.setQueryData=function(r,n,i){var o=Xe(r),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(n,i)},t.setQueriesData=function(r,n,i){var o=this;return L.batch(function(){return o.getQueryCache().findAll(r).map(function(l){var d=l.queryKey;return[d,o.setQueryData(d,n,i)]})})},t.getQueryState=function(r,n){var i;return(i=this.queryCache.find(r,n))==null?void 0:i.state},t.removeQueries=function(r,n){var i=be(r,n),o=i[0],l=this.queryCache;L.batch(function(){l.findAll(o).forEach(function(d){l.remove(d)})})},t.resetQueries=function(r,n,i){var o=this,l=be(r,n,i),d=l[0],u=l[1],c=this.queryCache,p=N({},d,{active:!0});return L.batch(function(){return c.findAll(d).forEach(function(v){v.reset()}),o.refetchQueries(p,u)})},t.cancelQueries=function(r,n,i){var o=this,l=be(r,n,i),d=l[0],u=l[1],c=u===void 0?{}:u;typeof c.revert>"u"&&(c.revert=!0);var p=L.batch(function(){return o.queryCache.findAll(d).map(function(v){return v.cancel(c)})});return Promise.all(p).then(J).catch(J)},t.invalidateQueries=function(r,n,i){var o,l,d,u=this,c=be(r,n,i),p=c[0],v=c[1],y=N({},p,{active:(o=(l=p.refetchActive)!=null?l:p.active)!=null?o:!0,inactive:(d=p.refetchInactive)!=null?d:!1});return L.batch(function(){return u.queryCache.findAll(p).forEach(function(f){f.invalidate()}),u.refetchQueries(y,v)})},t.refetchQueries=function(r,n,i){var o=this,l=be(r,n,i),d=l[0],u=l[1],c=L.batch(function(){return o.queryCache.findAll(d).map(function(v){return v.fetch(void 0,N({},u,{meta:{refetchPage:d==null?void 0:d.refetchPage}}))})}),p=Promise.all(c).then(J);return u!=null&&u.throwOnError||(p=p.catch(J)),p},t.fetchQuery=function(r,n,i){var o=Xe(r,n,i),l=this.defaultQueryOptions(o);typeof l.retry>"u"&&(l.retry=!1);var d=this.queryCache.build(this,l);return d.isStaleByTime(l.staleTime)?d.fetch(l):Promise.resolve(d.state.data)},t.prefetchQuery=function(r,n,i){return this.fetchQuery(r,n,i).then(J).catch(J)},t.fetchInfiniteQuery=function(r,n,i){var o=Xe(r,n,i);return o.behavior=$s(),this.fetchQuery(o)},t.prefetchInfiniteQuery=function(r,n,i){return this.fetchInfiniteQuery(r,n,i).then(J).catch(J)},t.cancelMutations=function(){var r=this,n=L.batch(function(){return r.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(n).then(J).catch(J)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(r){this.defaultOptions=r},t.setQueryDefaults=function(r,n){var i=this.queryDefaults.find(function(o){return we(r)===we(o.queryKey)});i?i.defaultOptions=n:this.queryDefaults.push({queryKey:r,defaultOptions:n})},t.getQueryDefaults=function(r){var n;return r?(n=this.queryDefaults.find(function(i){return lt(r,i.queryKey)}))==null?void 0:n.defaultOptions:void 0},t.setMutationDefaults=function(r,n){var i=this.mutationDefaults.find(function(o){return we(r)===we(o.mutationKey)});i?i.defaultOptions=n:this.mutationDefaults.push({mutationKey:r,defaultOptions:n})},t.getMutationDefaults=function(r){var n;return r?(n=this.mutationDefaults.find(function(i){return lt(r,i.mutationKey)}))==null?void 0:n.defaultOptions:void 0},t.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var n=N({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!n.queryHash&&n.queryKey&&(n.queryHash=rr(n.queryKey,n)),n},t.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},t.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:N({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),zs=function(e){Fe(t,e);function t(r,n){var i;return i=e.call(this)||this,i.client=r,i.options=n,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(n),i}var s=t.prototype;return s.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},s.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Or(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},s.onUnsubscribe=function(){this.listeners.length||this.destroy()},s.shouldFetchOnReconnect=function(){return Wt(this.currentQuery,this.options,this.options.refetchOnReconnect)},s.shouldFetchOnWindowFocus=function(){return Wt(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},s.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},s.setOptions=function(n,i){var o=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(n),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var d=this.hasListeners();d&&Cr(this.currentQuery,l,this.options,o)&&this.executeFetch(),this.updateResult(i),d&&(this.currentQuery!==l||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();d&&(this.currentQuery!==l||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},s.getOptimisticResult=function(n){var i=this.client.defaultQueryObserverOptions(n),o=this.client.getQueryCache().build(this.client,i);return this.createResult(o,i)},s.getCurrentResult=function(){return this.currentResult},s.trackResult=function(n,i){var o=this,l={},d=function(c){o.trackedProps.includes(c)||o.trackedProps.push(c)};return Object.keys(n).forEach(function(u){Object.defineProperty(l,u,{configurable:!1,enumerable:!0,get:function(){return d(u),n[u]}})}),(i.useErrorBoundary||i.suspense)&&d("error"),l},s.getNextResult=function(n){var i=this;return new Promise(function(o,l){var d=i.subscribe(function(u){u.isFetching||(d(),u.isError&&(n!=null&&n.throwOnError)?l(u.error):o(u))})})},s.getCurrentQuery=function(){return this.currentQuery},s.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},s.refetch=function(n){return this.fetch(N({},n,{meta:{refetchPage:n==null?void 0:n.refetchPage}}))},s.fetchOptimistic=function(n){var i=this,o=this.client.defaultQueryObserverOptions(n),l=this.client.getQueryCache().build(this.client,o);return l.fetch().then(function(){return i.createResult(l,o)})},s.fetch=function(n){var i=this;return this.executeFetch(n).then(function(){return i.updateResult(),i.currentResult})},s.executeFetch=function(n){this.updateQuery();var i=this.currentQuery.fetch(this.options,n);return n!=null&&n.throwOnError||(i=i.catch(J)),i},s.updateStaleTimeout=function(){var n=this;if(this.clearStaleTimeout(),!(at||this.currentResult.isStale||!Ht(this.options.staleTime))){var i=on(this.currentResult.dataUpdatedAt,this.options.staleTime),o=i+1;this.staleTimeoutId=setTimeout(function(){n.currentResult.isStale||n.updateResult()},o)}},s.computeRefetchInterval=function(){var n;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(n=this.options.refetchInterval)!=null?n:!1},s.updateRefetchInterval=function(n){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=n,!(at||this.options.enabled===!1||!Ht(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||Ue.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},s.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},s.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},s.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},s.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},s.createResult=function(n,i){var o=this.currentQuery,l=this.options,d=this.currentResult,u=this.currentResultState,c=this.currentResultOptions,p=n!==o,v=p?n.state:this.currentQueryInitialState,y=p?this.currentResult:this.previousQueryResult,f=n.state,g=f.dataUpdatedAt,b=f.error,O=f.errorUpdatedAt,P=f.isFetching,m=f.status,w=!1,M=!1,R;if(i.optimisticResults){var q=this.hasListeners(),S=!q&&Or(n,i),C=q&&Cr(n,o,i,l);(S||C)&&(P=!0,g||(m="loading"))}if(i.keepPreviousData&&!f.dataUpdateCount&&(y!=null&&y.isSuccess)&&m!=="error")R=y.data,g=y.dataUpdatedAt,m=y.status,w=!0;else if(i.select&&typeof f.data<"u")if(d&&f.data===(u==null?void 0:u.data)&&i.select===this.selectFn)R=this.selectResult;else try{this.selectFn=i.select,R=i.select(f.data),i.structuralSharing!==!1&&(R=ut(d==null?void 0:d.data,R)),this.selectResult=R,this.selectError=null}catch(X){dt().error(X),this.selectError=X}else R=f.data;if(typeof i.placeholderData<"u"&&typeof R>"u"&&(m==="loading"||m==="idle")){var D;if(d!=null&&d.isPlaceholderData&&i.placeholderData===(c==null?void 0:c.placeholderData))D=d.data;else if(D=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof D<"u")try{D=i.select(D),i.structuralSharing!==!1&&(D=ut(d==null?void 0:d.data,D)),this.selectError=null}catch(X){dt().error(X),this.selectError=X}typeof D<"u"&&(m="success",R=D,M=!0)}this.selectError&&(b=this.selectError,R=this.selectResult,O=Date.now(),m="error");var he={status:m,isLoading:m==="loading",isSuccess:m==="success",isError:m==="error",isIdle:m==="idle",data:R,dataUpdatedAt:g,error:b,errorUpdatedAt:O,failureCount:f.fetchFailureCount,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>v.dataUpdateCount||f.errorUpdateCount>v.errorUpdateCount,isFetching:P,isRefetching:P&&m!=="loading",isLoadingError:m==="error"&&f.dataUpdatedAt===0,isPlaceholderData:M,isPreviousData:w,isRefetchError:m==="error"&&f.dataUpdatedAt!==0,isStale:nr(n,i),refetch:this.refetch,remove:this.remove};return he},s.shouldNotifyListeners=function(n,i){if(!i)return!0;var o=this.options,l=o.notifyOnChangeProps,d=o.notifyOnChangePropsExclusions;if(!l&&!d||l==="tracked"&&!this.trackedProps.length)return!0;var u=l==="tracked"?this.trackedProps:l;return Object.keys(n).some(function(c){var p=c,v=n[p]!==i[p],y=u==null?void 0:u.some(function(g){return g===c}),f=d==null?void 0:d.some(function(g){return g===c});return v&&!f&&(!u||y)})},s.updateResult=function(n){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Ps(this.currentResult,i)){var o={cache:!0};(n==null?void 0:n.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(o.listeners=!0),this.notify(N({},o,n))}},s.updateQuery=function(){var n=this.client.getQueryCache().build(this.client,this.options);if(n!==this.currentQuery){var i=this.currentQuery;this.currentQuery=n,this.currentQueryInitialState=n.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),n.addObserver(this))}},s.onQueryUpdate=function(n){var i={};n.type==="success"?i.onSuccess=!0:n.type==="error"&&!et(n.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},s.notify=function(n){var i=this;L.batch(function(){n.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):n.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),n.listeners&&i.listeners.forEach(function(o){o(i.currentResult)}),n.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},t}(Pe);function Ks(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Or(e,t){return Ks(e,t)||e.state.dataUpdatedAt>0&&Wt(e,t,t.refetchOnMount)}function Wt(e,t,s){if(t.enabled!==!1){var r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&nr(e,t)}return!1}function Cr(e,t,s,r){return s.enabled!==!1&&(e!==t||r.enabled===!1)&&(!s.suspense||e.state.status!=="error")&&nr(e,s)}function nr(e,t){return e.isStaleByTime(t.staleTime)}var Hs=function(e){Fe(t,e);function t(r,n){var i;return i=e.call(this)||this,i.client=r,i.setOptions(n),i.bindMethods(),i.updateResult(),i}var s=t.prototype;return s.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},s.setOptions=function(n){this.options=this.client.defaultMutationOptions(n)},s.onUnsubscribe=function(){if(!this.listeners.length){var n;(n=this.currentMutation)==null||n.removeObserver(this)}},s.onMutationUpdate=function(n){this.updateResult();var i={listeners:!0};n.type==="success"?i.onSuccess=!0:n.type==="error"&&(i.onError=!0),this.notify(i)},s.getCurrentResult=function(){return this.currentResult},s.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},s.mutate=function(n,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,N({},this.options,{variables:typeof n<"u"?n:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},s.updateResult=function(){var n=this.currentMutation?this.currentMutation.state:hn(),i=N({},n,{isLoading:n.status==="loading",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=i},s.notify=function(n){var i=this;L.batch(function(){i.mutateOptions&&(n.onSuccess?(i.mutateOptions.onSuccess==null||i.mutateOptions.onSuccess(i.currentResult.data,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(i.currentResult.data,null,i.currentResult.variables,i.currentResult.context)):n.onError&&(i.mutateOptions.onError==null||i.mutateOptions.onError(i.currentResult.error,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(void 0,i.currentResult.error,i.currentResult.variables,i.currentResult.context))),n.listeners&&i.listeners.forEach(function(o){o(i.currentResult)})})},t}(Pe),Vs=rs.unstable_batchedUpdates;L.setBatchNotifyFunction(Vs);var Ws=console;Ds(Ws);var Rr=$.createContext(void 0),pn=$.createContext(!1);function mn(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Rr),window.ReactQueryClientContext):Rr}var sr=function(){var t=$.useContext(mn($.useContext(pn)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Js=function(t){var s=t.client,r=t.contextSharing,n=r===void 0?!1:r,i=t.children;$.useEffect(function(){return s.mount(),function(){s.unmount()}},[s]);var o=mn(n);return $.createElement(pn.Provider,{value:n},$.createElement(o.Provider,{value:s},i))};function Gs(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var Ys=$.createContext(Gs()),Xs=function(){return $.useContext(Ys)};function yn(e,t,s){return typeof t=="function"?t.apply(void 0,s):typeof t=="boolean"?t:!!e}function ye(e,t,s){var r=$.useRef(!1),n=$.useState(0),i=n[1],o=Rs(e,t,s),l=sr(),d=$.useRef();d.current?d.current.setOptions(o):d.current=new Hs(l,o);var u=d.current.getCurrentResult();$.useEffect(function(){r.current=!0;var p=d.current.subscribe(L.batchCalls(function(){r.current&&i(function(v){return v+1})}));return function(){r.current=!1,p()}},[]);var c=$.useCallback(function(p,v){d.current.mutate(p,v).catch(J)},[]);if(u.error&&yn(void 0,d.current.options.useErrorBoundary,[u.error]))throw u.error;return N({},u,{mutate:c,mutateAsync:u.mutate})}function Zs(e,t){var s=$.useRef(!1),r=$.useState(0),n=r[1],i=sr(),o=Xs(),l=i.defaultQueryObserverOptions(e);l.optimisticResults=!0,l.onError&&(l.onError=L.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=L.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=L.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(o.isReset()||(l.retryOnMount=!1));var d=$.useState(function(){return new t(i,l)}),u=d[0],c=u.getOptimisticResult(l);if($.useEffect(function(){s.current=!0,o.clearReset();var p=u.subscribe(L.batchCalls(function(){s.current&&n(function(v){return v+1})}));return u.updateResult(),function(){s.current=!1,p()}},[o,u]),$.useEffect(function(){u.setOptions(l,{listeners:!1})},[l,u]),l.suspense&&c.isLoading)throw u.fetchOptimistic(l).then(function(p){var v=p.data;l.onSuccess==null||l.onSuccess(v),l.onSettled==null||l.onSettled(v,null)}).catch(function(p){o.clearReset(),l.onError==null||l.onError(p),l.onSettled==null||l.onSettled(void 0,p)});if(c.isError&&!o.isReset()&&!c.isFetching&&yn(l.suspense,l.useErrorBoundary,[c.error,u.getCurrentQuery()]))throw c.error;return l.notifyOnChangeProps==="tracked"&&(c=u.trackResult(c,l)),c}function Oe(e,t,s){var r=Xe(e,t,s);return Zs(r,zs)}var mt={},vn={exports:{}};(function(e){function t(s){return s&&s.__esModule?s:{default:s}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(vn);var yt=vn.exports,vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.default=void 0;var ei={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"};vt.default=ei;var gt={},$e={},xt={},gn={exports:{}},xn={exports:{}},bn={exports:{}},jn={exports:{}};(function(e){function t(s){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(s)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(jn);var wn=jn.exports,Sn={exports:{}};(function(e){var t=wn.default;function s(r,n){if(t(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var o=i.call(r,n||"default");if(t(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(Sn);var ti=Sn.exports;(function(e){var t=wn.default,s=ti;function r(n){var i=s(n,"string");return t(i)=="symbol"?i:i+""}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(bn);var ri=bn.exports;(function(e){var t=ri;function s(r,n,i){return(n=t(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(xn);var ni=xn.exports;(function(e){var t=ni;function s(n,i){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);i&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(n,d).enumerable})),o.push.apply(o,l)}return o}function r(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?s(Object(o),!0).forEach(function(l){t(n,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(o,l))})}return n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(gn);var si=gn.exports,bt={};Object.defineProperty(bt,"__esModule",{value:!0});bt.commonLocale=void 0;bt.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0};var ii=yt.default;Object.defineProperty(xt,"__esModule",{value:!0});xt.default=void 0;var Er=ii(si),ai=bt,oi=(0,Er.default)((0,Er.default)({},ai.commonLocale),{},{locale:"zh_CN",today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",week:"周",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪",yearFormat:"YYYY年",cellDateFormat:"D",monthBeforeYear:!1});xt.default=oi;var Be={};Object.defineProperty(Be,"__esModule",{value:!0});Be.default=void 0;const li={placeholder:"请选择时间",rangePlaceholder:["开始时间","结束时间"]};Be.default=li;var On=yt.default;Object.defineProperty($e,"__esModule",{value:!0});$e.default=void 0;var ui=On(xt),ci=On(Be);const Cn={lang:Object.assign({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeQuarterPlaceholder:["开始季度","结束季度"],rangeWeekPlaceholder:["开始周","结束周"]},ui.default),timePickerLocale:Object.assign({},ci.default)};Cn.lang.ok="确定";$e.default=Cn;var di=yt.default;Object.defineProperty(gt,"__esModule",{value:!0});gt.default=void 0;var fi=di($e);gt.default=fi.default;var jt=yt.default;Object.defineProperty(mt,"__esModule",{value:!0});mt.default=void 0;var hi=jt(vt),pi=jt(gt),mi=jt($e),yi=jt(Be);const te="${label}不是一个有效的${type}",vi={locale:"zh-cn",Pagination:hi.default,DatePicker:mi.default,TimePicker:yi.default,Calendar:pi.default,global:{placeholder:"请选择",close:"关闭"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",filterEmptyText:"无筛选项",filterCheckAll:"全选",filterSearchPlaceholder:"在筛选项中搜索",emptyText:"暂无数据",selectAll:"全选当页",selectInvert:"反选当页",selectNone:"清空所有",selectionAll:"全选所有",sortTitle:"排序",expand:"展开行",collapse:"关闭行",triggerDesc:"点击降序",triggerAsc:"点击升序",cancelSort:"取消排序"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Tour:{Next:"下一步",Previous:"上一步",Finish:"结束导览"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{titles:["",""],searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项",remove:"删除",selectCurrent:"全选当页",removeCurrent:"删除当页",selectAll:"全选所有",deselectAll:"取消全选",removeAll:"删除全部",selectInvert:"反选当页"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开",collapse:"收起"},Form:{optional:"（可选）",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:te,method:te,array:te,object:te,number:te,date:te,boolean:te,integer:te,float:te,regexp:te,email:te,url:te,hex:te},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}},Image:{preview:"预览"},QRCode:{expired:"二维码过期",refresh:"点击刷新",scanned:"已扫描"},ColorPicker:{presetEmpty:"暂无",transparent:"无色",singleColor:"单色",gradientColor:"渐变色"}};mt.default=vi;var gi=mt;const xi=Gr(gi),Fr=e=>{let t;const s=new Set,r=(c,p)=>{const v=typeof c=="function"?c(t):c;if(!Object.is(v,t)){const y=t;t=p??(typeof v!="object"||v===null)?v:Object.assign({},t,v),s.forEach(f=>f(t,y))}},n=()=>t,d={setState:r,getState:n,getInitialState:()=>u,subscribe:c=>(s.add(c),()=>s.delete(c)),destroy:()=>{s.clear()}},u=t=e(r,n,d);return d},bi=e=>e?Fr(e):Fr;var Rn={exports:{}},En={},Fn={exports:{}},Pn={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Re=U;function ji(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wi=typeof Object.is=="function"?Object.is:ji,Si=Re.useState,Oi=Re.useEffect,Ci=Re.useLayoutEffect,Ri=Re.useDebugValue;function Ei(e,t){var s=t(),r=Si({inst:{value:s,getSnapshot:t}}),n=r[0].inst,i=r[1];return Ci(function(){n.value=s,n.getSnapshot=t,Dt(n)&&i({inst:n})},[e,s,t]),Oi(function(){return Dt(n)&&i({inst:n}),e(function(){Dt(n)&&i({inst:n})})},[e]),Ri(s),s}function Dt(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!wi(e,s)}catch{return!0}}function Fi(e,t){return t()}var Pi=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fi:Ei;Pn.useSyncExternalStore=Re.useSyncExternalStore!==void 0?Re.useSyncExternalStore:Pi;Fn.exports=Pn;var _i=Fn.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wt=U,Ni=_i;function Ai(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ti=typeof Object.is=="function"?Object.is:Ai,Mi=Ni.useSyncExternalStore,Di=wt.useRef,ki=wt.useEffect,Ui=wt.useMemo,qi=wt.useDebugValue;En.useSyncExternalStoreWithSelector=function(e,t,s,r,n){var i=Di(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Ui(function(){function d(y){if(!u){if(u=!0,c=y,y=r(y),n!==void 0&&o.hasValue){var f=o.value;if(n(f,y))return p=f}return p=y}if(f=p,Ti(c,y))return f;var g=r(y);return n!==void 0&&n(f,g)?(c=y,f):(c=y,p=g)}var u=!1,c,p,v=s===void 0?null:s;return[function(){return d(t())},v===null?void 0:function(){return d(v())}]},[t,s,r,n]);var l=Mi(e,i[0],i[1]);return ki(function(){o.hasValue=!0,o.value=l},[l]),qi(l),l};Rn.exports=En;var Li=Rn.exports;const Ii=Gr(Li),{useDebugValue:$i}=$,{useSyncExternalStoreWithSelector:Bi}=Ii;const Qi=e=>e;function zi(e,t=Qi,s){const r=Bi(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return $i(r),r}const Pr=e=>{const t=typeof e=="function"?bi(e):e,s=(r,n)=>zi(t,r,n);return Object.assign(s,t),s},Ki=e=>e?Pr(e):Pr,Hi={user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null},_e=Ki((e,t)=>({...Hi,login:async(s,r)=>{e({isLoading:!0,error:null});try{const n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:r})});if(!n.ok)throw new Error("登录失败");const i=await n.json();e({user:i.user,token:i.token,isAuthenticated:!0}),typeof window<"u"&&window.localStorage&&localStorage.setItem("auth-storage",JSON.stringify({state:{user:i.user,token:i.token}}))}catch(n){throw e({error:n instanceof Error?n.message:"登录失败"}),n}finally{e({isLoading:!1})}},logout:()=>{e({user:null,token:null,isAuthenticated:!1}),typeof window<"u"&&window.localStorage&&localStorage.removeItem("auth-storage")},updateProfile:async s=>{e({isLoading:!0,error:null});try{const r=await fetch("/api/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t().token}`},body:JSON.stringify(s)});if(!r.ok)throw new Error("更新资料失败");const n=await r.json();if(e({user:n.user}),typeof window<"u"&&window.localStorage){const i=localStorage.getItem("auth-storage");if(i){const o=JSON.parse(i);o.state.user=n.user,localStorage.setItem("auth-storage",JSON.stringify(o))}}}catch(r){throw e({error:r instanceof Error?r.message:"更新资料失败"}),r}finally{e({isLoading:!1})}},checkAuth:async()=>{var s;e({isLoading:!0});try{if(typeof window<"u"&&window.localStorage){const n=localStorage.getItem("auth-storage");if(n)try{const i=JSON.parse(n);(s=i.state)!=null&&s.token&&e({token:i.state.token,user:i.state.user,isAuthenticated:!0})}catch(i){console.error("解析认证数据失败:",i)}}const r=t().token;if(r){const n=await fetch("/api/auth/me",{method:"GET",headers:{Authorization:`Bearer ${r}`}});if(n.ok){const i=await n.json();return e({user:i.user,isAuthenticated:!0}),!0}else e({user:null,token:null,isAuthenticated:!1}),typeof window<"u"&&window.localStorage&&localStorage.removeItem("auth-storage")}return t().isAuthenticated}catch(r){return console.error("检查认证状态失败:",r),e({user:null,token:null,isAuthenticated:!1}),!1}finally{e({isLoading:!1})}}}));const{Title:Vi,Text:_r}=er,Wi=()=>{const[e,t]=U.useState(!1),{login:s,isAuthenticated:r}=_e(),n=Yr();U.useEffect(()=>{r&&n("/dashboard")},[r,n]);const i=async o=>{var l,d;try{t(!0),await s(o.username,o.password),T.success("登录成功"),n("/dashboard")}catch(u){T.error(((d=(l=u.response)==null?void 0:l.data)==null?void 0:d.error)||"登录失败")}finally{t(!1)}};return a.jsx("div",{className:"login-container",children:a.jsx("div",{className:"login-background",children:a.jsx("div",{className:"login-content",children:a.jsxs(W,{className:"login-card",bordered:!1,children:[a.jsxs("div",{className:"login-header",children:[a.jsx(Vi,{level:2,className:"login-title",children:"文件管理系统"}),a.jsx(_r,{type:"secondary",className:"login-subtitle",children:"安全、高效的文件管理解决方案"})]}),a.jsxs(E,{name:"login",className:"login-form",onFinish:i,autoComplete:"off",size:"large",children:[a.jsx(E.Item,{name:"username",rules:[{required:!0,message:"请输入用户名"},{min:3,message:"用户名至少3个字符"}],children:a.jsx(B,{prefix:a.jsx(de,{}),placeholder:"用户名",autoComplete:"username"})}),a.jsx(E.Item,{name:"password",rules:[{required:!0,message:"请输入密码"},{min:6,message:"密码至少6个字符"}],children:a.jsx(B.Password,{prefix:a.jsx(it,{}),placeholder:"密码",autoComplete:"current-password"})}),a.jsx(E.Item,{children:a.jsx(A,{type:"primary",htmlType:"submit",className:"login-button",loading:e,block:!0,children:"登录"})})]}),a.jsx("div",{className:"login-footer",children:a.jsx(_r,{type:"secondary",className:"login-tip",children:"默认账户：admin / admin123"})})]})})})})};const{Title:Te,Text:xe}=er,Ji=()=>{var u,c,p,v;const{user:e}=_e(),[t,s]=U.useState(null),{data:r,isLoading:n}=Oe("systemStats",()=>Promise.resolve({stats:{total_users:0,total_files:0,total_folders:0,total_size:0,new_users_30d:0,new_files_30d:0},recentActivity:[]}),{enabled:(e==null?void 0:e.role)==="admin",refetchInterval:3e4}),{data:i,isLoading:o}=Oe("userData",()=>Promise.resolve({user:{stats:{total_files:0,total_folders:0,total_size:0}}}),{enabled:!!(e!=null&&e.id),refetchInterval:3e4});U.useEffect(()=>{var y;i&&s((y=i.user)==null?void 0:y.stats)},[i]);const l=y=>{if(y===0)return"0 B";const f=1024,g=["B","KB","MB","GB","TB"],b=Math.floor(Math.log(y)/Math.log(f));return parseFloat((y/Math.pow(f,b)).toFixed(2))+" "+g[b]},d=(y,f)=>{const g={upload:"上传了",download:"下载了",delete:"删除了",create:"创建了",update:"更新了",move:"移动了"},b={file:"文件",folder:"文件夹",user:"用户"};return`${g[y]||y}${b[f]||f}`};return n||o?a.jsx("div",{className:"dashboard-loading",children:a.jsx(Xr,{size:"large"})}):a.jsxs("div",{className:"dashboard",children:[a.jsxs("div",{className:"dashboard-header",children:[a.jsxs(Te,{level:2,children:["欢迎回来，",e==null?void 0:e.username,"！"]}),a.jsx(xe,{type:"secondary",children:"这是您的文件管理仪表盘"})]}),a.jsxs(_t,{gutter:[16,16],className:"dashboard-stats",children:[a.jsx(ie,{xs:24,sm:12,lg:6,children:a.jsx(W,{className:"stat-card",children:a.jsx(ge,{title:"我的文件",value:(t==null?void 0:t.file_count)||0,prefix:a.jsx(Nt,{}),valueStyle:{color:"#1890ff"}})})}),a.jsx(ie,{xs:24,sm:12,lg:6,children:a.jsx(W,{className:"stat-card",children:a.jsx(ge,{title:"我的文件夹",value:(t==null?void 0:t.folder_count)||0,prefix:a.jsx(Ye,{}),valueStyle:{color:"#52c41a"}})})}),a.jsx(ie,{xs:24,sm:12,lg:6,children:a.jsx(W,{className:"stat-card",children:a.jsx(ge,{title:"存储使用量",value:l((t==null?void 0:t.total_size)||0),prefix:a.jsx(fr,{}),valueStyle:{color:"#faad14"}})})}),a.jsx(ie,{xs:24,sm:12,lg:6,children:a.jsx(W,{className:"stat-card",children:a.jsx(ge,{title:"最近活动",value:(t==null?void 0:t.recent_activity)||0,prefix:a.jsx(as,{}),valueStyle:{color:"#722ed1"}})})})]}),(e==null?void 0:e.role)==="admin"&&r&&a.jsxs(_t,{gutter:[16,16],className:"dashboard-admin-stats",children:[a.jsx(ie,{span:24,children:a.jsx(Te,{level:4,children:"系统统计"})}),a.jsx(ie,{xs:24,sm:12,lg:6,children:a.jsx(W,{className:"stat-card admin-stat",children:a.jsx(ge,{title:"总用户数",value:((u=r.stats)==null?void 0:u.total_users)||0,prefix:a.jsx(de,{}),valueStyle:{color:"#1890ff"}})})}),a.jsx(ie,{xs:24,sm:12,lg:6,children:a.jsx(W,{className:"stat-card admin-stat",children:a.jsx(ge,{title:"总文件数",value:((c=r.stats)==null?void 0:c.total_files)||0,prefix:a.jsx(Nt,{}),valueStyle:{color:"#52c41a"}})})}),a.jsx(ie,{xs:24,sm:12,lg:6,children:a.jsx(W,{className:"stat-card admin-stat",children:a.jsx(ge,{title:"总文件夹数",value:((p=r.stats)==null?void 0:p.total_folders)||0,prefix:a.jsx(Ye,{}),valueStyle:{color:"#faad14"}})})}),a.jsx(ie,{xs:24,sm:12,lg:6,children:a.jsx(W,{className:"stat-card admin-stat",children:a.jsx(ge,{title:"总存储量",value:l(((v=r.stats)==null?void 0:v.total_size)||0),prefix:a.jsx(fr,{}),valueStyle:{color:"#722ed1"}})})})]}),a.jsxs(_t,{gutter:[16,16],className:"dashboard-content",children:[(e==null?void 0:e.role)==="admin"&&(r==null?void 0:r.recentActivity)&&a.jsx(ie,{xs:24,lg:12,children:a.jsx(W,{title:"最近活动",className:"activity-card",children:a.jsx(At,{dataSource:r.recentActivity,renderItem:y=>a.jsx(At.Item,{children:a.jsx(At.Item.Meta,{avatar:a.jsx(qe,{icon:a.jsx(de,{})}),title:a.jsxs(xe,{children:[a.jsx(xe,{strong:!0,children:y.username})," ",d(y.action,y.target_type)," ",a.jsx(xe,{type:"secondary",children:y.details})]}),description:a.jsx(xe,{type:"secondary",style:{fontSize:"12px"},children:new Date(y.created_at).toLocaleString()})})})})})}),a.jsx(ie,{xs:24,lg:12,children:a.jsx(W,{title:"快速操作",className:"quick-actions-card",children:a.jsxs("div",{className:"quick-actions",children:[a.jsxs("div",{className:"action-item",children:[a.jsx(Nt,{className:"action-icon"}),a.jsxs("div",{className:"action-content",children:[a.jsx(Te,{level:5,children:"上传文件"}),a.jsx(xe,{type:"secondary",children:"快速上传新文件"})]})]}),a.jsxs("div",{className:"action-item",children:[a.jsx(Ye,{className:"action-icon"}),a.jsxs("div",{className:"action-content",children:[a.jsx(Te,{level:5,children:"创建文件夹"}),a.jsx(xe,{type:"secondary",children:"组织您的文件"})]})]}),a.jsxs("div",{className:"action-item",children:[a.jsx(It,{className:"action-icon"}),a.jsxs("div",{className:"action-content",children:[a.jsx(Te,{level:5,children:"批量下载"}),a.jsx(xe,{type:"secondary",children:"下载多个文件"})]})]})]})})})]})]})};function _n(e,t){return function(){return e.apply(t,arguments)}}const{toString:Gi}=Object.prototype,{getPrototypeOf:ir}=Object,{iterator:St,toStringTag:Nn}=Symbol,Ot=(e=>t=>{const s=Gi.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),oe=e=>(e=e.toLowerCase(),t=>Ot(t)===e),Ct=e=>t=>typeof t===e,{isArray:Ne}=Array,Ee=Ct("undefined");function Qe(e){return e!==null&&!Ee(e)&&e.constructor!==null&&!Ee(e.constructor)&&ee(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const An=oe("ArrayBuffer");function Yi(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&An(e.buffer),t}const Xi=Ct("string"),ee=Ct("function"),Tn=Ct("number"),ze=e=>e!==null&&typeof e=="object",Zi=e=>e===!0||e===!1,tt=e=>{if(Ot(e)!=="object")return!1;const t=ir(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Nn in e)&&!(St in e)},ea=e=>{if(!ze(e)||Qe(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ta=oe("Date"),ra=oe("File"),na=oe("Blob"),sa=oe("FileList"),ia=e=>ze(e)&&ee(e.pipe),aa=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ee(e.append)&&((t=Ot(e))==="formdata"||t==="object"&&ee(e.toString)&&e.toString()==="[object FormData]"))},oa=oe("URLSearchParams"),[la,ua,ca,da]=["ReadableStream","Request","Response","Headers"].map(oe),fa=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ke(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,n;if(typeof e!="object"&&(e=[e]),Ne(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(Qe(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function Mn(e,t){if(Qe(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,n;for(;r-- >0;)if(n=s[r],t===n.toLowerCase())return n;return null}const Se=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Dn=e=>!Ee(e)&&e!==Se;function Jt(){const{caseless:e,skipUndefined:t}=Dn(this)&&this||{},s={},r=(n,i)=>{const o=e&&Mn(s,i)||i;tt(s[o])&&tt(n)?s[o]=Jt(s[o],n):tt(n)?s[o]=Jt({},n):Ne(n)?s[o]=n.slice():(!t||!Ee(n))&&(s[o]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ke(arguments[n],r);return s}const ha=(e,t,s,{allOwnKeys:r}={})=>(Ke(t,(n,i)=>{s&&ee(n)?e[i]=_n(n,s):e[i]=n},{allOwnKeys:r}),e),pa=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ma=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},ya=(e,t,s,r)=>{let n,i,o;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=s!==!1&&ir(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},va=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},ga=e=>{if(!e)return null;if(Ne(e))return e;let t=e.length;if(!Tn(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},xa=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ir(Uint8Array)),ba=(e,t)=>{const r=(e&&e[St]).call(e);let n;for(;(n=r.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},ja=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},wa=oe("HTMLFormElement"),Sa=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,n){return r.toUpperCase()+n}),Nr=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Oa=oe("RegExp"),kn=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};Ke(s,(n,i)=>{let o;(o=t(n,i,e))!==!1&&(r[i]=o||n)}),Object.defineProperties(e,r)},Ca=e=>{kn(e,(t,s)=>{if(ee(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(ee(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Ra=(e,t)=>{const s={},r=n=>{n.forEach(i=>{s[i]=!0})};return Ne(e)?r(e):r(String(e).split(t)),s},Ea=()=>{},Fa=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Pa(e){return!!(e&&ee(e.append)&&e[Nn]==="FormData"&&e[St])}const _a=e=>{const t=new Array(10),s=(r,n)=>{if(ze(r)){if(t.indexOf(r)>=0)return;if(Qe(r))return r;if(!("toJSON"in r)){t[n]=r;const i=Ne(r)?[]:{};return Ke(r,(o,l)=>{const d=s(o,n+1);!Ee(d)&&(i[l]=d)}),t[n]=void 0,i}}return r};return s(e,0)},Na=oe("AsyncFunction"),Aa=e=>e&&(ze(e)||ee(e))&&ee(e.then)&&ee(e.catch),Un=((e,t)=>e?setImmediate:t?((s,r)=>(Se.addEventListener("message",({source:n,data:i})=>{n===Se&&i===s&&r.length&&r.shift()()},!1),n=>{r.push(n),Se.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ee(Se.postMessage)),Ta=typeof queueMicrotask<"u"?queueMicrotask.bind(Se):typeof process<"u"&&process.nextTick||Un,Ma=e=>e!=null&&ee(e[St]),h={isArray:Ne,isArrayBuffer:An,isBuffer:Qe,isFormData:aa,isArrayBufferView:Yi,isString:Xi,isNumber:Tn,isBoolean:Zi,isObject:ze,isPlainObject:tt,isEmptyObject:ea,isReadableStream:la,isRequest:ua,isResponse:ca,isHeaders:da,isUndefined:Ee,isDate:ta,isFile:ra,isBlob:na,isRegExp:Oa,isFunction:ee,isStream:ia,isURLSearchParams:oa,isTypedArray:xa,isFileList:sa,forEach:Ke,merge:Jt,extend:ha,trim:fa,stripBOM:pa,inherits:ma,toFlatObject:ya,kindOf:Ot,kindOfTest:oe,endsWith:va,toArray:ga,forEachEntry:ba,matchAll:ja,isHTMLForm:wa,hasOwnProperty:Nr,hasOwnProp:Nr,reduceDescriptors:kn,freezeMethods:Ca,toObjectSet:Ra,toCamelCase:Sa,noop:Ea,toFiniteNumber:Fa,findKey:Mn,global:Se,isContextDefined:Dn,isSpecCompliantForm:Pa,toJSONObject:_a,isAsyncFn:Na,isThenable:Aa,setImmediate:Un,asap:Ta,isIterable:Ma};function F(e,t,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}h.inherits(F,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.status}}});const qn=F.prototype,Ln={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ln[e]={value:e}});Object.defineProperties(F,Ln);Object.defineProperty(qn,"isAxiosError",{value:!0});F.from=(e,t,s,r,n,i)=>{const o=Object.create(qn);h.toFlatObject(e,o,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return F.call(o,l,d,s,r,n),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Da=null;function Gt(e){return h.isPlainObject(e)||h.isArray(e)}function In(e){return h.endsWith(e,"[]")?e.slice(0,-2):e}function Ar(e,t,s){return e?e.concat(t).map(function(n,i){return n=In(n),!s&&i?"["+n+"]":n}).join(s?".":""):t}function ka(e){return h.isArray(e)&&!e.some(Gt)}const Ua=h.toFlatObject(h,{},null,function(t){return/^is[A-Z]/.test(t)});function Rt(e,t,s){if(!h.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=h.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!h.isUndefined(b[g])});const r=s.metaTokens,n=s.visitor||c,i=s.dots,o=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(t);if(!h.isFunction(n))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(h.isDate(f))return f.toISOString();if(h.isBoolean(f))return f.toString();if(!d&&h.isBlob(f))throw new F("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(f)||h.isTypedArray(f)?d&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function c(f,g,b){let O=f;if(f&&!b&&typeof f=="object"){if(h.endsWith(g,"{}"))g=r?g:g.slice(0,-2),f=JSON.stringify(f);else if(h.isArray(f)&&ka(f)||(h.isFileList(f)||h.endsWith(g,"[]"))&&(O=h.toArray(f)))return g=In(g),O.forEach(function(m,w){!(h.isUndefined(m)||m===null)&&t.append(o===!0?Ar([g],w,i):o===null?g:g+"[]",u(m))}),!1}return Gt(f)?!0:(t.append(Ar(b,g,i),u(f)),!1)}const p=[],v=Object.assign(Ua,{defaultVisitor:c,convertValue:u,isVisitable:Gt});function y(f,g){if(!h.isUndefined(f)){if(p.indexOf(f)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(f),h.forEach(f,function(O,P){(!(h.isUndefined(O)||O===null)&&n.call(t,O,h.isString(P)?P.trim():P,g,v))===!0&&y(O,g?g.concat(P):[P])}),p.pop()}}if(!h.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Tr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ar(e,t){this._pairs=[],e&&Rt(e,this,t)}const $n=ar.prototype;$n.append=function(t,s){this._pairs.push([t,s])};$n.toString=function(t){const s=t?function(r){return t.call(this,r,Tr)}:Tr;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function qa(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Bn(e,t,s){if(!t)return e;const r=s&&s.encode||qa;h.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(t,s):i=h.isURLSearchParams(t)?t.toString():new ar(t,s).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class La{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){h.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Mr=La,Qn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ia=typeof URLSearchParams<"u"?URLSearchParams:ar,$a=typeof FormData<"u"?FormData:null,Ba=typeof Blob<"u"?Blob:null,Qa={isBrowser:!0,classes:{URLSearchParams:Ia,FormData:$a,Blob:Ba},protocols:["http","https","file","blob","url","data"]},or=typeof window<"u"&&typeof document<"u",Yt=typeof navigator=="object"&&navigator||void 0,za=or&&(!Yt||["ReactNative","NativeScript","NS"].indexOf(Yt.product)<0),Ka=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ha=or&&window.location.href||"http://localhost",Va=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:or,hasStandardBrowserEnv:za,hasStandardBrowserWebWorkerEnv:Ka,navigator:Yt,origin:Ha},Symbol.toStringTag,{value:"Module"})),G={...Va,...Qa};function Wa(e,t){return Rt(e,new G.classes.URLSearchParams,{visitor:function(s,r,n,i){return G.isNode&&h.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Ja(e){return h.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ga(e){const t={},s=Object.keys(e);let r;const n=s.length;let i;for(r=0;r<n;r++)i=s[r],t[i]=e[i];return t}function zn(e){function t(s,r,n,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=s.length;return o=!o&&h.isArray(n)?n.length:o,d?(h.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!l):((!n[o]||!h.isObject(n[o]))&&(n[o]=[]),t(s,r,n[o],i)&&h.isArray(n[o])&&(n[o]=Ga(n[o])),!l)}if(h.isFormData(e)&&h.isFunction(e.entries)){const s={};return h.forEachEntry(e,(r,n)=>{t(Ja(r),n,s,0)}),s}return null}function Ya(e,t,s){if(h.isString(e))try{return(t||JSON.parse)(e),h.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const lr={transitional:Qn,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",n=r.indexOf("application/json")>-1,i=h.isObject(t);if(i&&h.isHTMLForm(t)&&(t=new FormData(t)),h.isFormData(t))return n?JSON.stringify(zn(t)):t;if(h.isArrayBuffer(t)||h.isBuffer(t)||h.isStream(t)||h.isFile(t)||h.isBlob(t)||h.isReadableStream(t))return t;if(h.isArrayBufferView(t))return t.buffer;if(h.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Wa(t,this.formSerializer).toString();if((l=h.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Rt(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),Ya(t)):t}],transformResponse:[function(t){const s=this.transitional||lr.transitional,r=s&&s.forcedJSONParsing,n=this.responseType==="json";if(h.isResponse(t)||h.isReadableStream(t))return t;if(t&&h.isString(t)&&(r&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?F.from(l,F.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:G.classes.FormData,Blob:G.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};h.forEach(["delete","get","head","post","put","patch"],e=>{lr.headers[e]={}});const ur=lr,Xa=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Za=e=>{const t={};let s,r,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),r=o.substring(n+1).trim(),!(!s||t[s]&&Xa[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},Dr=Symbol("internals");function Me(e){return e&&String(e).trim().toLowerCase()}function rt(e){return e===!1||e==null?e:h.isArray(e)?e.map(rt):String(e)}function eo(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const to=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kt(e,t,s,r,n){if(h.isFunction(r))return r.call(this,t,s);if(n&&(t=s),!!h.isString(t)){if(h.isString(r))return t.indexOf(r)!==-1;if(h.isRegExp(r))return r.test(t)}}function ro(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function no(e,t){const s=h.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(n,i,o){return this[r].call(this,t,n,i,o)},configurable:!0})})}class Et{constructor(t){t&&this.set(t)}set(t,s,r){const n=this;function i(l,d,u){const c=Me(d);if(!c)throw new Error("header name must be a non-empty string");const p=h.findKey(n,c);(!p||n[p]===void 0||u===!0||u===void 0&&n[p]!==!1)&&(n[p||d]=rt(l))}const o=(l,d)=>h.forEach(l,(u,c)=>i(u,c,d));if(h.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(h.isString(t)&&(t=t.trim())&&!to(t))o(Za(t),s);else if(h.isObject(t)&&h.isIterable(t)){let l={},d,u;for(const c of t){if(!h.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[u=c[0]]=(d=l[u])?h.isArray(d)?[...d,c[1]]:[d,c[1]]:c[1]}o(l,s)}else t!=null&&i(s,t,r);return this}get(t,s){if(t=Me(t),t){const r=h.findKey(this,t);if(r){const n=this[r];if(!s)return n;if(s===!0)return eo(n);if(h.isFunction(s))return s.call(this,n,r);if(h.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Me(t),t){const r=h.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||kt(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let n=!1;function i(o){if(o=Me(o),o){const l=h.findKey(r,o);l&&(!s||kt(r,r[l],l,s))&&(delete r[l],n=!0)}}return h.isArray(t)?t.forEach(i):i(t),n}clear(t){const s=Object.keys(this);let r=s.length,n=!1;for(;r--;){const i=s[r];(!t||kt(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const s=this,r={};return h.forEach(this,(n,i)=>{const o=h.findKey(r,i);if(o){s[o]=rt(n),delete s[i];return}const l=t?ro(i):String(i).trim();l!==i&&delete s[i],s[l]=rt(n),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return h.forEach(this,(r,n)=>{r!=null&&r!==!1&&(s[n]=t&&h.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(n=>r.set(n)),r}static accessor(t){const r=(this[Dr]=this[Dr]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=Me(o);r[l]||(no(n,o),r[l]=!0)}return h.isArray(t)?t.forEach(i):i(t),this}}Et.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.reduceDescriptors(Et.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});h.freezeMethods(Et);const ae=Et;function Ut(e,t){const s=this||ur,r=t||s,n=ae.from(r.headers);let i=r.data;return h.forEach(e,function(l){i=l.call(s,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function Kn(e){return!!(e&&e.__CANCEL__)}function Ae(e,t,s){F.call(this,e??"canceled",F.ERR_CANCELED,t,s),this.name="CanceledError"}h.inherits(Ae,F,{__CANCEL__:!0});function Hn(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new F("Request failed with status code "+s.status,[F.ERR_BAD_REQUEST,F.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function so(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function io(e,t){e=e||10;const s=new Array(e),r=new Array(e);let n=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),c=r[i];o||(o=u),s[n]=d,r[n]=u;let p=i,v=0;for(;p!==n;)v+=s[p++],p=p%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),u-o<t)return;const y=c&&u-c;return y?Math.round(v*1e3/y):void 0}}function ao(e,t){let s=0,r=1e3/t,n,i;const o=(u,c=Date.now())=>{s=c,n=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const c=Date.now(),p=c-s;p>=r?o(u,c):(n=u,i||(i=setTimeout(()=>{i=null,o(n)},r-p)))},()=>n&&o(n)]}const ft=(e,t,s=3)=>{let r=0;const n=io(50,250);return ao(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-r,u=n(d),c=o<=l;r=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:u||void 0,estimated:u&&l&&c?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(p)},s)},kr=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},Ur=e=>(...t)=>h.asap(()=>e(...t)),oo=G.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,G.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(G.origin),G.navigator&&/(msie|trident)/i.test(G.navigator.userAgent)):()=>!0,lo=G.hasStandardBrowserEnv?{write(e,t,s,r,n,i){const o=[e+"="+encodeURIComponent(t)];h.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),h.isString(r)&&o.push("path="+r),h.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uo(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function co(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Vn(e,t,s){let r=!uo(t);return e&&(r||s==!1)?co(e,t):t}const qr=e=>e instanceof ae?{...e}:e;function Ce(e,t){t=t||{};const s={};function r(u,c,p,v){return h.isPlainObject(u)&&h.isPlainObject(c)?h.merge.call({caseless:v},u,c):h.isPlainObject(c)?h.merge({},c):h.isArray(c)?c.slice():c}function n(u,c,p,v){if(h.isUndefined(c)){if(!h.isUndefined(u))return r(void 0,u,p,v)}else return r(u,c,p,v)}function i(u,c){if(!h.isUndefined(c))return r(void 0,c)}function o(u,c){if(h.isUndefined(c)){if(!h.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function l(u,c,p){if(p in t)return r(u,c);if(p in e)return r(void 0,u)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,c,p)=>n(qr(u),qr(c),p,!0)};return h.forEach(Object.keys({...e,...t}),function(c){const p=d[c]||n,v=p(e[c],t[c],c);h.isUndefined(v)&&p!==l||(s[c]=v)}),s}const Wn=e=>{const t=Ce({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=ae.from(o),t.url=Bn(Vn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),h.isFormData(s)){if(G.hasStandardBrowserEnv||G.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(h.isFunction(s.getHeaders)){const d=s.getHeaders(),u=["content-type","content-length"];Object.entries(d).forEach(([c,p])=>{u.includes(c.toLowerCase())&&o.set(c,p)})}}if(G.hasStandardBrowserEnv&&(r&&h.isFunction(r)&&(r=r(t)),r||r!==!1&&oo(t.url))){const d=n&&i&&lo.read(i);d&&o.set(n,d)}return t},fo=typeof XMLHttpRequest<"u",ho=fo&&function(e){return new Promise(function(s,r){const n=Wn(e);let i=n.data;const o=ae.from(n.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:u}=n,c,p,v,y,f;function g(){y&&y(),f&&f(),n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function O(){if(!b)return;const m=ae.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),M={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:m,config:e,request:b};Hn(function(q){s(q),g()},function(q){r(q),g()},M),b=null}"onloadend"in b?b.onloadend=O:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(O)},b.onabort=function(){b&&(r(new F("Request aborted",F.ECONNABORTED,e,b)),b=null)},b.onerror=function(w){const M=w&&w.message?w.message:"Network Error",R=new F(M,F.ERR_NETWORK,e,b);R.event=w||null,r(R),b=null},b.ontimeout=function(){let w=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const M=n.transitional||Qn;n.timeoutErrorMessage&&(w=n.timeoutErrorMessage),r(new F(w,M.clarifyTimeoutError?F.ETIMEDOUT:F.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&h.forEach(o.toJSON(),function(w,M){b.setRequestHeader(M,w)}),h.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),l&&l!=="json"&&(b.responseType=n.responseType),u&&([v,f]=ft(u,!0),b.addEventListener("progress",v)),d&&b.upload&&([p,y]=ft(d),b.upload.addEventListener("progress",p),b.upload.addEventListener("loadend",y)),(n.cancelToken||n.signal)&&(c=m=>{b&&(r(!m||m.type?new Ae(null,e,b):m),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const P=so(n.url);if(P&&G.protocols.indexOf(P)===-1){r(new F("Unsupported protocol "+P+":",F.ERR_BAD_REQUEST,e));return}b.send(i||null)})},po=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,n;const i=function(u){if(!n){n=!0,l();const c=u instanceof Error?u:this.reason;r.abort(c instanceof F?c:new Ae(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,i(new F(`timeout ${t} of ms exceeded`,F.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:d}=r;return d.unsubscribe=()=>h.asap(l),d}},mo=po,yo=function*(e,t){let s=e.byteLength;if(!t||s<t){yield e;return}let r=0,n;for(;r<s;)n=r+t,yield e.slice(r,n),r=n},vo=async function*(e,t){for await(const s of go(e))yield*yo(s,t)},go=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},Lr=(e,t,s,r)=>{const n=vo(e,t);let i=0,o,l=d=>{o||(o=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:u,value:c}=await n.next();if(u){l(),d.close();return}let p=c.byteLength;if(s){let v=i+=p;s(v)}d.enqueue(new Uint8Array(c))}catch(u){throw l(u),u}},cancel(d){return l(d),n.return()}},{highWaterMark:2})},Ir=64*1024,{isFunction:Ve}=h,xo=(({Request:e,Response:t})=>({Request:e,Response:t}))(h.global),{ReadableStream:$r,TextEncoder:Br}=h.global,Qr=(e,...t)=>{try{return!!e(...t)}catch{return!1}},bo=e=>{e=h.merge.call({skipUndefined:!0},xo,e);const{fetch:t,Request:s,Response:r}=e,n=t?Ve(t):typeof fetch=="function",i=Ve(s),o=Ve(r);if(!n)return!1;const l=n&&Ve($r),d=n&&(typeof Br=="function"?(f=>g=>f.encode(g))(new Br):async f=>new Uint8Array(await new s(f).arrayBuffer())),u=i&&l&&Qr(()=>{let f=!1;const g=new s(G.origin,{body:new $r,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!g}),c=o&&l&&Qr(()=>h.isReadableStream(new r("").body)),p={stream:c&&(f=>f.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!p[f]&&(p[f]=(g,b)=>{let O=g&&g[f];if(O)return O.call(g);throw new F(`Response type '${f}' is not supported`,F.ERR_NOT_SUPPORT,b)})});const v=async f=>{if(f==null)return 0;if(h.isBlob(f))return f.size;if(h.isSpecCompliantForm(f))return(await new s(G.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(h.isArrayBufferView(f)||h.isArrayBuffer(f))return f.byteLength;if(h.isURLSearchParams(f)&&(f=f+""),h.isString(f))return(await d(f)).byteLength},y=async(f,g)=>{const b=h.toFiniteNumber(f.getContentLength());return b??v(g)};return async f=>{let{url:g,method:b,data:O,signal:P,cancelToken:m,timeout:w,onDownloadProgress:M,onUploadProgress:R,responseType:q,headers:S,withCredentials:C="same-origin",fetchOptions:D}=Wn(f),he=t||fetch;q=q?(q+"").toLowerCase():"text";let X=mo([P,m&&m.toAbortSignal()],w),Y=null;const K=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let ne;try{if(R&&u&&b!=="get"&&b!=="head"&&(ne=await y(S,O))!==0){let Z=new s(g,{method:"POST",body:O,duplex:"half"}),se;if(h.isFormData(O)&&(se=Z.headers.get("content-type"))&&S.setContentType(se),Z.body){const[x,j]=kr(ne,ft(Ur(R)));O=Lr(Z.body,Ir,x,j)}}h.isString(C)||(C=C?"include":"omit");const I=i&&"credentials"in s.prototype,le={...D,signal:X,method:b.toUpperCase(),headers:S.normalize().toJSON(),body:O,duplex:"half",credentials:I?C:void 0};Y=i&&new s(g,le);let z=await(i?he(Y,D):he(g,le));const re=c&&(q==="stream"||q==="response");if(c&&(M||re&&K)){const Z={};["status","statusText","headers"].forEach(_=>{Z[_]=z[_]});const se=h.toFiniteNumber(z.headers.get("content-length")),[x,j]=M&&kr(se,ft(Ur(M),!0))||[];z=new r(Lr(z.body,Ir,x,()=>{j&&j(),K&&K()}),Z)}q=q||"text";let ve=await p[h.findKey(p,q)||"text"](z,f);return!re&&K&&K(),await new Promise((Z,se)=>{Hn(Z,se,{data:ve,headers:ae.from(z.headers),status:z.status,statusText:z.statusText,config:f,request:Y})})}catch(I){throw K&&K(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new F("Network Error",F.ERR_NETWORK,f,Y),{cause:I.cause||I}):F.from(I,I&&I.code,f,Y)}}},jo=new Map,Jn=e=>{let t=e?e.env:{};const{fetch:s,Request:r,Response:n}=t,i=[r,n,s];let o=i.length,l=o,d,u,c=jo;for(;l--;)d=i[l],u=c.get(d),u===void 0&&c.set(d,u=l?new Map:bo(t)),c=u;return u};Jn();const Xt={http:Da,xhr:ho,fetch:{get:Jn}};h.forEach(Xt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const zr=e=>`- ${e}`,wo=e=>h.isFunction(e)||e===null||e===!1,Gn={getAdapter:(e,t)=>{e=h.isArray(e)?e:[e];const{length:s}=e;let r,n;const i={};for(let o=0;o<s;o++){r=e[o];let l;if(n=r,!wo(r)&&(n=Xt[(l=String(r)).toLowerCase()],n===void 0))throw new F(`Unknown adapter '${l}'`);if(n&&(h.isFunction(n)||(n=n.get(t))))break;i[l||"#"+o]=n}if(!n){const o=Object.entries(i).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=s?o.length>1?`since :
`+o.map(zr).join(`
`):" "+zr(o[0]):"as no adapter specified";throw new F("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Xt};function qt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ae(null,e)}function Kr(e){return qt(e),e.headers=ae.from(e.headers),e.data=Ut.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Gn.getAdapter(e.adapter||ur.adapter,e)(e).then(function(r){return qt(e),r.data=Ut.call(e,e.transformResponse,r),r.headers=ae.from(r.headers),r},function(r){return Kn(r)||(qt(e),r&&r.response&&(r.response.data=Ut.call(e,e.transformResponse,r.response),r.response.headers=ae.from(r.response.headers))),Promise.reject(r)})}const Yn="1.12.2",Ft={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ft[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Hr={};Ft.transitional=function(t,s,r){function n(i,o){return"[Axios v"+Yn+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new F(n(o," has been removed"+(s?" in "+s:"")),F.ERR_DEPRECATED);return s&&!Hr[o]&&(Hr[o]=!0,console.warn(n(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,o,l):!0}};Ft.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function So(e,t,s){if(typeof e!="object")throw new F("options must be an object",F.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const i=r[n],o=t[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new F("option "+i+" must be "+d,F.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new F("Unknown option "+i,F.ERR_BAD_OPTION)}}const nt={assertOptions:So,validators:Ft},ue=nt.validators;class ht{constructor(t){this.defaults=t||{},this.interceptors={request:new Mr,response:new Mr}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Ce(this.defaults,s);const{transitional:r,paramsSerializer:n,headers:i}=s;r!==void 0&&nt.assertOptions(r,{silentJSONParsing:ue.transitional(ue.boolean),forcedJSONParsing:ue.transitional(ue.boolean),clarifyTimeoutError:ue.transitional(ue.boolean)},!1),n!=null&&(h.isFunction(n)?s.paramsSerializer={serialize:n}:nt.assertOptions(n,{encode:ue.function,serialize:ue.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),nt.assertOptions(s,{baseUrl:ue.spelling("baseURL"),withXsrfToken:ue.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&h.merge(i.common,i[s.method]);i&&h.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),s.headers=ae.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(s)===!1||(d=d&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,p=0,v;if(!d){const f=[Kr.bind(this),void 0];for(f.unshift(...l),f.push(...u),v=f.length,c=Promise.resolve(s);p<v;)c=c.then(f[p++],f[p++]);return c}v=l.length;let y=s;for(;p<v;){const f=l[p++],g=l[p++];try{y=f(y)}catch(b){g.call(this,b);break}}try{c=Kr.call(this,y)}catch(f){return Promise.reject(f)}for(p=0,v=u.length;p<v;)c=c.then(u[p++],u[p++]);return c}getUri(t){t=Ce(this.defaults,t);const s=Vn(t.baseURL,t.url,t.allowAbsoluteUrls);return Bn(s,t.params,t.paramsSerializer)}}h.forEach(["delete","get","head","options"],function(t){ht.prototype[t]=function(s,r){return this.request(Ce(r||{},{method:t,url:s,data:(r||{}).data}))}});h.forEach(["post","put","patch"],function(t){function s(r){return function(i,o,l){return this.request(Ce(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ht.prototype[t]=s(),ht.prototype[t+"Form"]=s(!0)});const st=ht;class cr{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new Ae(i,o,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new cr(function(n){t=n}),cancel:t}}}const Oo=cr;function Co(e){return function(s){return e.apply(null,s)}}function Ro(e){return h.isObject(e)&&e.isAxiosError===!0}const Zt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zt).forEach(([e,t])=>{Zt[t]=e});const Eo=Zt;function Xn(e){const t=new st(e),s=_n(st.prototype.request,t);return h.extend(s,st.prototype,t,{allOwnKeys:!0}),h.extend(s,t,null,{allOwnKeys:!0}),s.create=function(n){return Xn(Ce(e,n))},s}const Q=Xn(ur);Q.Axios=st;Q.CanceledError=Ae;Q.CancelToken=Oo;Q.isCancel=Kn;Q.VERSION=Yn;Q.toFormData=Rt;Q.AxiosError=F;Q.Cancel=Q.CanceledError;Q.all=function(t){return Promise.all(t)};Q.spread=Co;Q.isAxiosError=Ro;Q.mergeConfig=Ce;Q.AxiosHeaders=ae;Q.formToJSON=e=>zn(h.isHTMLForm(e)?new FormData(e):e);Q.getAdapter=Gn.getAdapter;Q.HttpStatusCode=Eo;Q.default=Q;const Fo=Q,k=Fo.create({baseURL:"/api",timeout:3e4,headers:{"Content-Type":"application/json"}});k.interceptors.request.use(e=>{var t;if(typeof window<"u"&&window.localStorage){const s=localStorage.getItem("auth-storage");if(s)try{const r=JSON.parse(s);(t=r.state)!=null&&t.token&&(e.headers.Authorization=`Bearer ${r.state.token}`)}catch(r){console.error("解析token失败:",r)}}return e},e=>Promise.reject(e));k.interceptors.response.use(e=>e,e=>{var t,s,r;return typeof window<"u"&&(((t=e.response)==null?void 0:t.status)===401?(localStorage.removeItem("auth-storage"),window.location.href="/login"):((s=e.response)==null?void 0:s.status)===403?T.error("权限不足"):((r=e.response)==null?void 0:r.status)>=500?T.error("服务器错误，请稍后重试"):e.code==="ECONNABORTED"&&T.error("请求超时，请检查网络连接")),Promise.reject(e)});const Po={login:async(e,t)=>(await k.post("/auth/login",{username:e,password:t})).data,getCurrentUser:async()=>(await k.get("/auth/me")).data,updateProfile:async e=>(await k.put("/auth/profile",e)).data,changePassword:async e=>(await k.post("/auth/change-password",e)).data},me={upload:async(e,t)=>{const s=new FormData;return s.append("file",e),t&&s.append("folderId",t.toString()),(await k.post("/files/upload",s,{headers:{"Content-Type":"multipart/form-data"}})).data},uploadFile:async(e,t)=>me.upload(e,t==null?void 0:t.folderId),uploadFiles:async(e,t)=>{const s=e.map(r=>me.upload(r,t==null?void 0:t.folderId));return Promise.all(s)},getFiles:async e=>{const t=e?{folderId:e}:{};return(await k.get("/files",{params:t})).data},deleteFile:async e=>(await k.delete(`/files/${e}`)).data,downloadFiles:async e=>(await k.post("/files/download",{fileIds:e})).data,downloadFile:async e=>(await k.get(`/files/${e}/download`)).data,lockFile:async(e,t)=>(await k.post(`/files/${e}/lock`,{isLocked:t})).data,deleteFiles:async e=>(await k.delete("/files/batch",{data:{fileIds:e}})).data,updateFile:async(e,t)=>(await k.put(`/files/${e}`,t)).data},De={getUsers:async e=>(await k.get("/users",{params:e})).data,createUser:async e=>(await k.post("/users",e)).data,updateUser:async(e,t)=>(await k.put(`/users/${e}`,t)).data,deleteUser:async e=>(await k.delete(`/users/${e}`)).data,resetPassword:async(e,t)=>(await k.post(`/users/${e}/reset-password`,{password:t})).data},We={search:async(e,t)=>{const s={query:e,...t};return(await k.get("/search",{params:s})).data},advancedSearch:async e=>(await k.get("/search/advanced",{params:e})).data,getSuggestions:async e=>(await k.get("/search/suggestions",{params:{query:e}})).data,getPopularSearches:async e=>(await k.get("/search/popular",{params:{limit:e}})).data},Zn={create:async(e,t)=>(await k.post("/folders",{name:e,parentId:t})).data,createFolder:async e=>Zn.create(e.name,e.parent_id),getFolders:async e=>{const t=e?{parentId:e}:{};return(await k.get("/folders",{params:t})).data}};const{Search:_o}=B,{Option:Vr}=fe,No=()=>{var se;const e=sr(),[t,s]=U.useState(null),[r,n]=U.useState([]),[i,o]=U.useState(""),[l,d]=U.useState("list"),[u,c]=U.useState(!1),[p,v]=U.useState(!1),[y,f]=U.useState(!1),[g,b]=U.useState(null),[O]=E.useForm(),[P]=E.useForm(),[m]=E.useForm(),{data:w,isLoading:M,refetch:R}=Oe(["files",t,i],()=>me.getFiles(t||void 0),{staleTime:3e5,keepPreviousData:!0}),q=ye(x=>{if(x.files.length===1){const j=new FormData;return j.append("file",x.files[0]),x.folder_id&&j.append("folderId",x.folder_id.toString()),x.description&&j.append("description",x.description),x.tags&&j.append("tags",x.tags),k.post("/files/upload",j,{headers:{"Content-Type":"multipart/form-data"}}).then(_=>_.data)}else{const j=x.files.map(_=>{const H=new FormData;return H.append("file",_),x.folder_id&&H.append("folderId",x.folder_id.toString()),x.description&&H.append("description",x.description),x.tags&&H.append("tags",x.tags),k.post("/files/upload",H,{headers:{"Content-Type":"multipart/form-data"}}).then(es=>es.data)});return Promise.all(j)}},{onSuccess:()=>{T.success("文件上传成功"),c(!1),O.resetFields(),R()},onError:x=>{var j,_;T.error(((_=(j=x.response)==null?void 0:j.data)==null?void 0:_.error)||"上传失败")}}),S=ye(x=>Zn.createFolder(x),{onSuccess:()=>{T.success("文件夹创建成功"),v(!1),P.resetFields(),e.invalidateQueries("folderTree"),R()},onError:x=>{var j,_;T.error(((_=(j=x.response)==null?void 0:j.data)==null?void 0:_.error)||"创建失败")}}),C=ye(x=>x.length===1?me.deleteFile(x[0]):me.deleteFiles(x),{onSuccess:()=>{T.success("文件删除成功"),n([]),R()},onError:x=>{var j,_;T.error(((_=(j=x.response)==null?void 0:j.data)==null?void 0:_.error)||"删除失败")}}),D=ye(({id:x,data:j})=>me.updateFile(x,j),{onSuccess:()=>{T.success("文件信息更新成功"),f(!1),b(null),m.resetFields(),R()},onError:x=>{var j,_;T.error(((_=(j=x.response)==null?void 0:j.data)==null?void 0:_.error)||"更新失败")}}),he=ye(({id:x,isLocked:j})=>me.lockFile(x,j),{onSuccess:()=>{T.success("操作成功"),R()},onError:x=>{var j,_;T.error(((_=(j=x.response)==null?void 0:j.data)==null?void 0:_.error)||"操作失败")}}),X=x=>{if(x===0)return"0 B";const j=1024,_=["B","KB","MB","GB","TB"],H=Math.floor(Math.log(x)/Math.log(j));return parseFloat((x/Math.pow(j,H)).toFixed(2))+" "+_[H]},Y=x=>x.startsWith("image/")?"🖼️":x.startsWith("video/")?"🎥":x.startsWith("audio/")?"🎵":x.includes("pdf")?"📄":x.includes("word")?"📝":x.includes("excel")?"📊":x.includes("powerpoint")?"📈":"📁",K=x=>{const{files:j,description:_,tags:H}=x;if(!j||j.length===0){T.error("请选择要上传的文件");return}q.mutate({files:Array.isArray(j)?j:[j],folder_id:t||void 0,description:_,tags:H})},ne=x=>{S.mutate({name:x.name,parent_id:t||void 0})},I=x=>{b(x),m.setFieldsValue({description:x.description,tags:x.tags}),f(!0)},le=x=>{g&&D.mutate({id:g.id,data:x})},z=async x=>{try{const j=await me.downloadFile(x.id),_=window.URL.createObjectURL(new Blob([j.data])),H=document.createElement("a");H.href=_,H.setAttribute("download",x.original_name),document.body.appendChild(H),H.click(),H.remove(),window.URL.revokeObjectURL(_)}catch{T.error("下载失败")}},re=async()=>{if(r.length===0){T.warning("请选择要下载的文件");return}try{const x=await me.downloadFiles(r),j=window.URL.createObjectURL(new Blob([x.data])),_=document.createElement("a");_.href=j,_.setAttribute("download","files.zip"),document.body.appendChild(_),_.click(),_.remove(),window.URL.revokeObjectURL(j)}catch{T.error("批量下载失败")}},ve=[{title:"名称",dataIndex:"original_name",key:"name",render:(x,j)=>a.jsxs("div",{className:"file-name-cell",children:[a.jsx("span",{className:"file-icon",children:Y(j.mime_type)}),a.jsxs("div",{className:"file-info",children:[a.jsxs("div",{className:"file-name",children:[x,j.is_locked&&a.jsx(it,{className:"locked-icon"})]}),j.description&&a.jsx("div",{className:"file-description",children:j.description}),j.tags&&a.jsx("div",{className:"file-tags",children:j.tags.split(",").map((_,H)=>a.jsx(Le,{children:_.trim()},H))})]})]})},{title:"大小",dataIndex:"size",key:"size",width:100,render:x=>X(x)},{title:"类型",dataIndex:"mime_type",key:"type",width:120,render:x=>{var j;return a.jsx(Le,{color:"blue",children:((j=x.split("/")[1])==null?void 0:j.toUpperCase())||"UNKNOWN"})}},{title:"创建时间",dataIndex:"created_at",key:"created_at",width:150,render:x=>new Date(x).toLocaleString()},{title:"操作",key:"actions",width:120,render:(x,j)=>a.jsxs(ce,{children:[a.jsx(je,{title:"下载",children:a.jsx(A,{type:"text",icon:a.jsx(It,{}),onClick:()=>z(j)})}),a.jsx(je,{title:"编辑",children:a.jsx(A,{type:"text",icon:a.jsx(tn,{}),onClick:()=>I(j)})}),a.jsx(je,{title:j.is_locked?"解锁":"锁定",children:a.jsx(A,{type:"text",icon:j.is_locked?a.jsx(ls,{}):a.jsx(it,{}),onClick:()=>he.mutate({id:j.id,isLocked:!j.is_locked})})}),a.jsx($t,{title:"确定要删除这个文件吗？",onConfirm:()=>C.mutate([j.id]),okText:"确定",cancelText:"取消",children:a.jsx(je,{title:"删除",children:a.jsx(A,{type:"text",icon:a.jsx(Bt,{}),danger:!0})})})]})}],Z={selectedRowKeys:r,onChange:x=>{n(x)}};return a.jsxs("div",{className:"file-manager",children:[a.jsxs("div",{className:"file-manager-toolbar",children:[a.jsx("div",{className:"toolbar-left",children:a.jsxs(Tt,{children:[a.jsx(Tt.Item,{children:a.jsx(A,{type:"link",onClick:()=>s(null),children:"根目录"})}),t&&a.jsx(Tt.Item,{children:"当前文件夹"})]})}),a.jsxs("div",{className:"toolbar-right",children:[a.jsx(_o,{placeholder:"搜索文件...",value:i,onChange:x=>o(x.target.value),style:{width:200},allowClear:!0}),a.jsxs(fe,{value:l,onChange:d,style:{width:100},children:[a.jsx(Vr,{value:"list",children:"列表"}),a.jsx(Vr,{value:"grid",children:"网格"})]}),a.jsx(A,{icon:a.jsx(Zr,{}),onClick:()=>R()})]})]}),a.jsx("div",{className:"file-manager-actions",children:a.jsxs(ce,{children:[a.jsx(A,{type:"primary",icon:a.jsx(hr,{}),onClick:()=>c(!0),children:"上传文件"}),a.jsx(A,{icon:a.jsx(os,{}),onClick:()=>v(!0),children:"新建文件夹"}),r.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs(A,{icon:a.jsx(It,{}),onClick:re,children:["批量下载 (",r.length,")"]}),a.jsx($t,{title:`确定要删除选中的 ${r.length} 个文件吗？`,onConfirm:()=>C.mutate(r),okText:"确定",cancelText:"取消",children:a.jsx(A,{icon:a.jsx(Bt,{}),danger:!0,children:"批量删除"})})]})]})}),a.jsx(W,{className:"file-list-card",children:a.jsx(tr,{columns:ve,dataSource:(w==null?void 0:w.files)||[],loading:M,rowKey:"id",rowSelection:Z,pagination:{total:((se=w==null?void 0:w.pagination)==null?void 0:se.total)||0,pageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:(x,j)=>`第 ${j[0]}-${j[1]} 条，共 ${x} 条`}})}),a.jsx(ke,{title:"上传文件",open:u,onCancel:()=>c(!1),footer:null,width:600,children:a.jsxs(E,{form:O,layout:"vertical",onFinish:K,children:[a.jsx(E.Item,{name:"files",label:"选择文件",rules:[{required:!0,message:"请选择文件"}],children:a.jsxs(en.Dragger,{multiple:!0,beforeUpload:()=>!1,onChange:x=>{O.setFieldsValue({files:x.fileList.map(j=>j.originFileObj).filter(Boolean)})},children:[a.jsx("p",{className:"ant-upload-drag-icon",children:a.jsx(hr,{})}),a.jsx("p",{className:"ant-upload-text",children:"点击或拖拽文件到此区域上传"}),a.jsx("p",{className:"ant-upload-hint",children:"支持单个或批量上传"})]})}),a.jsx(E.Item,{name:"description",label:"文件描述",children:a.jsx(B.TextArea,{placeholder:"可选，为文件添加描述",rows:3})}),a.jsx(E.Item,{name:"tags",label:"标签",children:a.jsx(B,{placeholder:"可选，用逗号分隔多个标签"})}),a.jsx(E.Item,{children:a.jsxs(ce,{children:[a.jsx(A,{type:"primary",htmlType:"submit",loading:q.isLoading,children:"上传"}),a.jsx(A,{onClick:()=>c(!1),children:"取消"})]})})]})}),a.jsx(ke,{title:"创建文件夹",open:p,onCancel:()=>v(!1),footer:null,children:a.jsxs(E,{form:P,layout:"vertical",onFinish:ne,children:[a.jsx(E.Item,{name:"name",label:"文件夹名称",rules:[{required:!0,message:"请输入文件夹名称"},{max:100,message:"文件夹名称不能超过100字符"}],children:a.jsx(B,{placeholder:"请输入文件夹名称"})}),a.jsx(E.Item,{children:a.jsxs(ce,{children:[a.jsx(A,{type:"primary",htmlType:"submit",loading:S.isLoading,children:"创建"}),a.jsx(A,{onClick:()=>v(!1),children:"取消"})]})})]})}),a.jsx(ke,{title:"编辑文件信息",open:y,onCancel:()=>f(!1),footer:null,children:a.jsxs(E,{form:m,layout:"vertical",onFinish:le,children:[a.jsx(E.Item,{name:"description",label:"文件描述",children:a.jsx(B.TextArea,{placeholder:"为文件添加描述",rows:3})}),a.jsx(E.Item,{name:"tags",label:"标签",children:a.jsx(B,{placeholder:"用逗号分隔多个标签"})}),a.jsx(E.Item,{children:a.jsxs(ce,{children:[a.jsx(A,{type:"primary",htmlType:"submit",loading:D.isLoading,children:"保存"}),a.jsx(A,{onClick:()=>f(!1),children:"取消"})]})})]})})]})};const{Search:Ao}=B,{Option:V}=fe,{RangePicker:To}=cs,{Title:Wr,Text:Je}=er,Mo=()=>{var O,P;const[e,t]=U.useState(""),[s,r]=U.useState("all"),[n,i]=U.useState({}),[o,l]=U.useState(!1),{data:d}=Oe(["searchSuggestions",e],()=>We.getSuggestions(e),{enabled:e.length>=2,staleTime:3e4}),{data:u}=Oe("popularSearches",()=>We.getPopularSearches(10),{staleTime:3e5}),{data:c,isLoading:p}=Oe(["searchResults",e,s,n],()=>o?We.advancedSearch({query:e,type:s,filters:n,page:1,limit:20}):We.search({q:e,type:s,...n,page:1,limit:20}),{enabled:!!e,keepPreviousData:!0}),v=m=>{t(m)},y=(m,w)=>{i(M=>({...M,[m]:w}))},f=m=>{if(m===0)return"0 B";const w=1024,M=["B","KB","MB","GB","TB"],R=Math.floor(Math.log(m)/Math.log(w));return parseFloat((m/Math.pow(w,R)).toFixed(2))+" "+M[R]},g=m=>m!=null&&m.startsWith("image/")?"🖼️":m!=null&&m.startsWith("video/")?"🎥":m!=null&&m.startsWith("audio/")?"🎵":m!=null&&m.includes("pdf")?"📄":m!=null&&m.includes("word")?"📝":m!=null&&m.includes("excel")?"📊":m!=null&&m.includes("powerpoint")?"📈":"📁",b=[{title:"名称",dataIndex:"name",key:"name",render:(m,w)=>a.jsxs("div",{className:"search-result-item",children:[a.jsx("span",{className:"result-icon",children:w.type==="file"?g(w.mime_type||""):"📁"}),a.jsxs("div",{className:"result-info",children:[a.jsx("div",{className:"result-name",children:w.original_name||m}),w.description&&a.jsx("div",{className:"result-description",children:w.description}),w.tags&&a.jsx("div",{className:"result-tags",children:w.tags.split(",").map((M,R)=>a.jsx(Le,{children:M.trim()},R))})]})]})},{title:"类型",dataIndex:"type",key:"type",width:80,render:m=>a.jsx(Le,{color:m==="file"?"blue":"green",children:m==="file"?"文件":"文件夹"})},{title:"大小",dataIndex:"size",key:"size",width:100,render:m=>m?f(m):"-"},{title:"创建时间",dataIndex:"created_at",key:"created_at",width:150,render:m=>new Date(m).toLocaleString()}];return a.jsxs("div",{className:"search-page",children:[a.jsxs("div",{className:"search-header",children:[a.jsx(Wr,{level:2,children:"文件搜索"}),a.jsx(Je,{type:"secondary",children:"快速找到您需要的文件和文件夹"})]}),a.jsxs(W,{className:"search-card",children:[a.jsxs("div",{className:"search-input-group",children:[a.jsx(Ao,{placeholder:"输入文件名、内容或标签进行搜索...",value:e,onChange:m=>t(m.target.value),onSearch:v,size:"large",enterButton:a.jsx(rn,{}),className:"main-search-input"}),a.jsxs("div",{className:"search-options",children:[a.jsxs(fe,{value:s,onChange:r,style:{width:120},children:[a.jsx(V,{value:"all",children:"全部"}),a.jsx(V,{value:"files",children:"文件"}),a.jsx(V,{value:"folders",children:"文件夹"})]}),a.jsx(A,{icon:a.jsx(us,{}),onClick:()=>l(!o),type:o?"primary":"default",children:"高级搜索"})]})]}),o&&a.jsx("div",{className:"advanced-search",children:a.jsxs("div",{className:"search-filters",children:[a.jsxs("div",{className:"filter-group",children:[a.jsx("label",{children:"文件类型："}),a.jsxs(fe,{placeholder:"选择文件类型",style:{width:150},allowClear:!0,onChange:m=>y("mime_type",m),children:[a.jsx(V,{value:"image",children:"图片"}),a.jsx(V,{value:"video",children:"视频"}),a.jsx(V,{value:"audio",children:"音频"}),a.jsx(V,{value:"pdf",children:"PDF"}),a.jsx(V,{value:"word",children:"Word"}),a.jsx(V,{value:"excel",children:"Excel"}),a.jsx(V,{value:"powerpoint",children:"PowerPoint"})]})]}),a.jsxs("div",{className:"filter-group",children:[a.jsx("label",{children:"文件大小："}),a.jsxs(fe,{placeholder:"最小大小",style:{width:120},allowClear:!0,onChange:m=>y("size_min",m),children:[a.jsx(V,{value:"1024",children:"1KB"}),a.jsx(V,{value:"1048576",children:"1MB"}),a.jsx(V,{value:"10485760",children:"10MB"}),a.jsx(V,{value:"104857600",children:"100MB"})]}),a.jsx("span",{children:" - "}),a.jsxs(fe,{placeholder:"最大大小",style:{width:120},allowClear:!0,onChange:m=>y("size_max",m),children:[a.jsx(V,{value:"1048576",children:"1MB"}),a.jsx(V,{value:"10485760",children:"10MB"}),a.jsx(V,{value:"104857600",children:"100MB"}),a.jsx(V,{value:"1073741824",children:"1GB"})]})]}),a.jsxs("div",{className:"filter-group",children:[a.jsx("label",{children:"创建时间："}),a.jsx(To,{onChange:m=>{var w,M;m&&(y("date_from",(w=m[0])==null?void 0:w.format("YYYY-MM-DD")),y("date_to",(M=m[1])==null?void 0:M.format("YYYY-MM-DD")))}})]}),a.jsxs("div",{className:"filter-group",children:[a.jsx("label",{children:"标签："}),a.jsx(B,{placeholder:"输入标签，用逗号分隔",style:{width:200},onChange:m=>y("tags",m.target.value)})]})]})}),d&&d.length>0&&a.jsxs("div",{className:"search-suggestions",children:[a.jsx(Je,{type:"secondary",children:"搜索建议："}),a.jsx(ce,{wrap:!0,children:d.map((m,w)=>a.jsx(A,{type:"link",size:"small",onClick:()=>t(m.name),children:m.name},w))})]}),!e&&u&&a.jsxs("div",{className:"popular-searches",children:[a.jsx(Je,{type:"secondary",children:"热门搜索："}),a.jsx(ce,{wrap:!0,children:u.popular.map((m,w)=>a.jsxs(A,{type:"link",size:"small",onClick:()=>t(m.term),children:[m.term," (",m.count,")"]},w))})]})]}),e&&a.jsxs(W,{className:"results-card",children:[a.jsx("div",{className:"results-header",children:a.jsxs(Wr,{level:4,children:["搜索结果",c&&a.jsxs(Je,{type:"secondary",children:["（共找到 ",((O=c.pagination)==null?void 0:O.total)||0," 个结果）"]})]})}),c&&c.results&&c.results.length>0?a.jsx(tr,{columns:b,dataSource:c.results,loading:p,rowKey:"id",pagination:{total:((P=c.pagination)==null?void 0:P.total)||0,pageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:(m,w)=>`第 ${w[0]}-${w[1]} 条，共 ${m} 条`}}):e?a.jsx(pr,{description:"没有找到相关结果",image:pr.PRESENTED_IMAGE_SIMPLE}):null]})]})};const{TabPane:Lt}=nn,Do=()=>{const{user:e,updateProfile:t}=_e(),[s]=E.useForm(),[r]=E.useForm(),[n,i]=U.useState(!1),o=async u=>{var c,p;try{i(!0),await t(u),T.success("个人资料更新成功")}catch(v){T.error(((p=(c=v.response)==null?void 0:c.data)==null?void 0:p.error)||"更新失败")}finally{i(!1)}},l=async u=>{var c,p;try{i(!0),await Po.changePassword(u),T.success("密码修改成功"),r.resetFields()}catch(v){T.error(((p=(c=v.response)==null?void 0:c.data)==null?void 0:p.error)||"密码修改失败")}finally{i(!1)}},d=u=>{u.file.status==="done"?(T.success("头像上传成功"),t({avatar:u.file.response.url})):u.file.status==="error"&&T.error("头像上传失败")};return a.jsxs("div",{className:"settings-page",children:[a.jsxs("div",{className:"settings-header",children:[a.jsx("h2",{children:"设置"}),a.jsx("p",{children:"管理您的账户设置和偏好"})]}),a.jsxs(nn,{defaultActiveKey:"profile",className:"settings-tabs",children:[a.jsx(Lt,{tab:a.jsxs("span",{children:[a.jsx(de,{}),"个人资料"]}),children:a.jsx(W,{className:"settings-card",children:a.jsxs("div",{className:"profile-section",children:[a.jsxs("div",{className:"avatar-section",children:[a.jsx(qe,{size:80,src:e==null?void 0:e.avatar,icon:a.jsx(de,{}),className:"profile-avatar"}),a.jsx(en,{name:"avatar",action:"/api/upload/avatar",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},showUploadList:!1,onChange:d,children:a.jsx(A,{icon:a.jsx(ds,{}),className:"avatar-upload-btn",children:"更换头像"})})]}),a.jsxs(E,{form:s,layout:"vertical",initialValues:{username:e==null?void 0:e.username,email:e==null?void 0:e.email,avatar:e==null?void 0:e.avatar},onFinish:o,className:"profile-form",children:[a.jsx(E.Item,{name:"username",label:"用户名",rules:[{required:!0,message:"请输入用户名"},{min:3,message:"用户名至少3个字符"}],children:a.jsx(B,{disabled:!0})}),a.jsx(E.Item,{name:"email",label:"邮箱",rules:[{required:!0,message:"请输入邮箱"},{type:"email",message:"邮箱格式不正确"}],children:a.jsx(B,{})}),a.jsx(E.Item,{children:a.jsx(A,{type:"primary",htmlType:"submit",loading:n,children:"保存更改"})})]})]})})},"profile"),a.jsx(Lt,{tab:a.jsxs("span",{children:[a.jsx(it,{}),"安全设置"]}),children:a.jsx(W,{className:"settings-card",children:a.jsxs(E,{form:r,layout:"vertical",onFinish:l,children:[a.jsx(E.Item,{name:"currentPassword",label:"当前密码",rules:[{required:!0,message:"请输入当前密码"}],children:a.jsx(B.Password,{})}),a.jsx(E.Item,{name:"newPassword",label:"新密码",rules:[{required:!0,message:"请输入新密码"},{min:6,message:"密码至少6个字符"}],children:a.jsx(B.Password,{})}),a.jsx(E.Item,{name:"confirmPassword",label:"确认新密码",dependencies:["newPassword"],rules:[{required:!0,message:"请确认新密码"},({getFieldValue:u})=>({validator(c,p){return!p||u("newPassword")===p?Promise.resolve():Promise.reject(new Error("两次输入的密码不一致"))}})],children:a.jsx(B.Password,{})}),a.jsx(E.Item,{children:a.jsx(A,{type:"primary",htmlType:"submit",loading:n,children:"修改密码"})})]})})},"security"),a.jsx(Lt,{tab:a.jsxs("span",{children:[a.jsx(Qt,{}),"通知设置"]}),children:a.jsx(W,{className:"settings-card",children:a.jsxs("div",{className:"notification-settings",children:[a.jsxs("div",{className:"setting-item",children:[a.jsxs("div",{className:"setting-info",children:[a.jsx("h4",{children:"文件上传通知"}),a.jsx("p",{children:"当文件上传完成时发送通知"})]}),a.jsx(He,{defaultChecked:!0})]}),a.jsx(Mt,{}),a.jsxs("div",{className:"setting-item",children:[a.jsxs("div",{className:"setting-info",children:[a.jsx("h4",{children:"文件下载通知"}),a.jsx("p",{children:"当文件下载完成时发送通知"})]}),a.jsx(He,{defaultChecked:!0})]}),a.jsx(Mt,{}),a.jsxs("div",{className:"setting-item",children:[a.jsxs("div",{className:"setting-info",children:[a.jsx("h4",{children:"系统更新通知"}),a.jsx("p",{children:"当系统有重要更新时发送通知"})]}),a.jsx(He,{defaultChecked:!0})]}),a.jsx(Mt,{}),a.jsxs("div",{className:"setting-item",children:[a.jsxs("div",{className:"setting-info",children:[a.jsx("h4",{children:"安全提醒"}),a.jsx("p",{children:"当检测到异常登录时发送提醒"})]}),a.jsx(He,{defaultChecked:!0})]})]})})},"notifications")]})]})};const{Option:Ge}=fe,ko=()=>{var q;const{user:e}=_e(),[t,s]=U.useState(!1),[r,n]=U.useState(!1),[i,o]=U.useState(null),[l,d]=U.useState(""),[u]=E.useForm(),[c]=E.useForm(),{data:p,isLoading:v,refetch:y}=Oe(["users",l],()=>De.getUsers({search:l||void 0}),{keepPreviousData:!0}),f=ye(S=>De.createUser(S),{onSuccess:()=>{T.success("用户创建成功"),s(!1),u.resetFields(),y()},onError:S=>{var C,D;T.error(((D=(C=S.response)==null?void 0:C.data)==null?void 0:D.error)||"创建失败")}}),g=ye(({id:S,data:C})=>De.updateUser(S,C),{onSuccess:()=>{T.success("用户信息更新成功"),n(!1),o(null),c.resetFields(),y()},onError:S=>{var C,D;T.error(((D=(C=S.response)==null?void 0:C.data)==null?void 0:D.error)||"更新失败")}}),b=ye(S=>De.deleteUser(S),{onSuccess:()=>{T.success("用户删除成功"),y()},onError:S=>{var C,D;T.error(((D=(C=S.response)==null?void 0:C.data)==null?void 0:D.error)||"删除失败")}}),O=ye(({id:S,password:C})=>De.resetPassword(S,C),{onSuccess:()=>{T.success("密码重置成功")},onError:S=>{var C,D;T.error(((D=(C=S.response)==null?void 0:C.data)==null?void 0:D.error)||"密码重置失败")}}),P=S=>{f.mutate(S)},m=S=>{o(S),c.setFieldsValue({email:S.email,role:S.role}),n(!0)},w=S=>{i&&g.mutate({id:i.id,data:S})},M=S=>{const C=prompt("请输入新密码（至少6个字符）:");C&&C.length>=6?O.mutate({id:S,password:C}):C&&T.error("密码至少需要6个字符")},R=[{title:"用户",key:"user",render:(S,C)=>a.jsxs("div",{className:"user-info",children:[a.jsx(qe,{size:40,src:C.avatar,icon:a.jsx(de,{}),className:"user-avatar"}),a.jsxs("div",{className:"user-details",children:[a.jsx("div",{className:"user-name",children:C.username}),a.jsx("div",{className:"user-email",children:C.email})]})]})},{title:"角色",dataIndex:"role",key:"role",width:100,render:S=>a.jsx(Le,{color:S==="admin"?"red":"blue",children:S==="admin"?"管理员":"普通用户"})},{title:"创建时间",dataIndex:"created_at",key:"created_at",width:150,render:S=>new Date(S).toLocaleString()},{title:"操作",key:"actions",width:200,render:(S,C)=>a.jsxs(ce,{children:[a.jsx(je,{title:"编辑",children:a.jsx(A,{type:"text",icon:a.jsx(tn,{}),onClick:()=>m(C)})}),a.jsx(je,{title:"重置密码",children:a.jsx(A,{type:"text",onClick:()=>M(C.id),children:"重置密码"})}),C.id!==(e==null?void 0:e.id)&&a.jsx($t,{title:"确定要删除这个用户吗？",description:"删除后该用户的所有数据将被永久删除",onConfirm:()=>b.mutate(C.id),okText:"确定",cancelText:"取消",children:a.jsx(je,{title:"删除",children:a.jsx(A,{type:"text",icon:a.jsx(Bt,{}),danger:!0})})})]})}];return a.jsxs("div",{className:"user-management",children:[a.jsxs("div",{className:"user-management-header",children:[a.jsxs("div",{className:"header-left",children:[a.jsx("h2",{children:"用户管理"}),a.jsx("p",{children:"管理系统用户和权限"})]}),a.jsxs("div",{className:"header-right",children:[a.jsx(B.Search,{placeholder:"搜索用户...",value:l,onChange:S=>d(S.target.value),style:{width:200},allowClear:!0}),a.jsx(A,{icon:a.jsx(Zr,{}),onClick:()=>y()}),a.jsx(A,{type:"primary",icon:a.jsx(fs,{}),onClick:()=>s(!0),children:"添加用户"})]})]}),a.jsx(W,{className:"users-card",children:a.jsx(tr,{columns:R,dataSource:(p==null?void 0:p.users)||[],loading:v,rowKey:"id",pagination:{total:((q=p==null?void 0:p.pagination)==null?void 0:q.total)||0,pageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:(S,C)=>`第 ${C[0]}-${C[1]} 条，共 ${S} 条`}})}),a.jsx(ke,{title:"创建用户",open:t,onCancel:()=>s(!1),footer:null,width:500,children:a.jsxs(E,{form:u,layout:"vertical",onFinish:P,children:[a.jsx(E.Item,{name:"username",label:"用户名",rules:[{required:!0,message:"请输入用户名"},{min:3,message:"用户名至少3个字符"}],children:a.jsx(B,{placeholder:"请输入用户名"})}),a.jsx(E.Item,{name:"email",label:"邮箱",rules:[{required:!0,message:"请输入邮箱"},{type:"email",message:"邮箱格式不正确"}],children:a.jsx(B,{placeholder:"请输入邮箱"})}),a.jsx(E.Item,{name:"password",label:"密码",rules:[{required:!0,message:"请输入密码"},{min:6,message:"密码至少6个字符"}],children:a.jsx(B.Password,{placeholder:"请输入密码"})}),a.jsx(E.Item,{name:"role",label:"角色",rules:[{required:!0,message:"请选择角色"}],children:a.jsxs(fe,{placeholder:"请选择角色",children:[a.jsx(Ge,{value:"user",children:"普通用户"}),a.jsx(Ge,{value:"admin",children:"管理员"})]})}),a.jsx(E.Item,{children:a.jsxs(ce,{children:[a.jsx(A,{type:"primary",htmlType:"submit",loading:f.isLoading,children:"创建"}),a.jsx(A,{onClick:()=>s(!1),children:"取消"})]})})]})}),a.jsx(ke,{title:"编辑用户",open:r,onCancel:()=>n(!1),footer:null,width:500,children:a.jsxs(E,{form:c,layout:"vertical",onFinish:w,children:[a.jsx(E.Item,{name:"email",label:"邮箱",rules:[{required:!0,message:"请输入邮箱"},{type:"email",message:"邮箱格式不正确"}],children:a.jsx(B,{placeholder:"请输入邮箱"})}),a.jsx(E.Item,{name:"role",label:"角色",rules:[{required:!0,message:"请选择角色"}],children:a.jsxs(fe,{placeholder:"请选择角色",children:[a.jsx(Ge,{value:"user",children:"普通用户"}),a.jsx(Ge,{value:"admin",children:"管理员"})]})}),a.jsx(E.Item,{children:a.jsxs(ce,{children:[a.jsx(A,{type:"primary",htmlType:"submit",loading:g.isLoading,children:"保存"}),a.jsx(A,{onClick:()=>n(!1),children:"取消"})]})})]})})]})};const{Header:Jr,Sider:Uo,Content:qo}=zt,Lo=({children:e})=>{const[t,s]=U.useState(!1),[r,n]=U.useState(!1),{user:i,logout:o}=_e(),l=Yr(),d=ns(),u=[{key:"/dashboard",icon:a.jsx(ms,{}),label:"仪表盘"},{key:"/files",icon:a.jsx(Ye,{}),label:"文件管理"},{key:"/search",icon:a.jsx(rn,{}),label:"搜索"},{key:"/settings",icon:a.jsx(vr,{}),label:"设置"}];(i==null?void 0:i.role)==="admin"&&u.push({key:"/users",icon:a.jsx(de,{}),label:"用户管理"});const c=({key:f})=>{l(f),n(!1)},p=()=>{o(),l("/login")},v=[{key:"profile",icon:a.jsx(de,{}),label:"个人资料"},{key:"settings",icon:a.jsx(vr,{}),label:"账户设置"},{type:"divider"},{key:"logout",icon:a.jsx(ys,{}),label:"退出登录",onClick:p}],y=window.innerWidth<=768;return a.jsxs(zt,{className:"app-layout",children:[y&&a.jsx(Jr,{className:"mobile-header",children:a.jsxs("div",{className:"mobile-header-content",children:[a.jsx(A,{type:"text",icon:a.jsx(hs,{}),onClick:()=>n(!0),className:"mobile-menu-button"}),a.jsx("div",{className:"mobile-header-title",children:"文件管理系统"}),a.jsxs("div",{className:"mobile-header-actions",children:[a.jsx(A,{type:"text",icon:a.jsx(Qt,{})}),a.jsx(mr,{menu:{items:v},placement:"bottomRight",trigger:["click"],children:a.jsx(qe,{size:"small",icon:a.jsx(de,{})})})]})]})}),!y&&a.jsxs(Uo,{collapsible:!0,collapsed:t,onCollapse:s,className:"app-sider",width:240,collapsedWidth:80,children:[a.jsx("div",{className:"sider-header",children:a.jsx("div",{className:"logo",children:t?"FM":"文件管理系统"})}),a.jsx(yr,{mode:"inline",selectedKeys:[d.pathname],items:u,onClick:c,className:"sider-menu"})]}),a.jsx(ps,{title:"菜单",placement:"left",onClose:()=>n(!1),open:r,className:"mobile-drawer",width:240,children:a.jsx(yr,{mode:"inline",selectedKeys:[d.pathname],items:u,onClick:c,className:"mobile-menu"})}),a.jsxs(zt,{className:"app-main",children:[!y&&a.jsxs(Jr,{className:"app-header",children:[a.jsx("div",{className:"header-left",children:a.jsxs("div",{className:"breadcrumb",children:[d.pathname==="/dashboard"&&"仪表盘",d.pathname==="/files"&&"文件管理",d.pathname==="/search"&&"搜索",d.pathname==="/settings"&&"设置",d.pathname==="/users"&&"用户管理"]})}),a.jsxs("div",{className:"header-right",children:[a.jsx(A,{type:"text",icon:a.jsx(Qt,{}),className:"header-action"}),a.jsx(mr,{menu:{items:v},placement:"bottomRight",trigger:["click"],children:a.jsxs("div",{className:"user-info",children:[a.jsx(qe,{size:"small",icon:a.jsx(de,{})}),a.jsx("span",{className:"username",children:i==null?void 0:i.username})]})})]})]}),a.jsx(qo,{className:"app-content",children:e})]})]})},Io=()=>a.jsx("div",{className:"loading-container",children:a.jsx(Xr,{indicator:a.jsx(vs,{style:{fontSize:24},spin:!0}),size:"large"})});function $o(){const{isAuthenticated:e,isLoading:t}=_e();return t?a.jsx(Io,{}):e?a.jsx(Lo,{children:a.jsxs(dr,{children:[a.jsx(pe,{path:"/",element:a.jsx(Pt,{to:"/dashboard",replace:!0})}),a.jsx(pe,{path:"/dashboard",element:a.jsx(Ji,{})}),a.jsx(pe,{path:"/files",element:a.jsx(No,{})}),a.jsx(pe,{path:"/search",element:a.jsx(Mo,{})}),a.jsx(pe,{path:"/settings",element:a.jsx(Do,{})}),a.jsx(pe,{path:"/users",element:a.jsx(ko,{})}),a.jsx(pe,{path:"*",element:a.jsx(Pt,{to:"/dashboard",replace:!0})})]})}):a.jsxs(dr,{children:[a.jsx(pe,{path:"/login",element:a.jsx(Wi,{})}),a.jsx(pe,{path:"*",element:a.jsx(Pt,{to:"/login",replace:!0})})]})}const Bo=new Qs({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});Kt.createRoot(document.getElementById("root")).render(a.jsx($.StrictMode,{children:a.jsx(Js,{client:Bo,children:a.jsx(gs,{locale:xi,children:a.jsx(ss,{children:a.jsx($o,{})})})})}));
