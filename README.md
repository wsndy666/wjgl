# wjgl æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ

[![Docker Build](https://github.com/wsndy666/wjgl/workflows/Docker%20Build/badge.svg)](https://github.com/wsndy666/wjgl/actions)
[![Docker Hub](https://img.shields.io/docker/pulls/wsndy666/wjgl-backend)](https://hub.docker.com/r/wsndy666/wjgl-backend)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

ä¸€ä¸ªåŸºäºDockerçš„æ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼Œä¸“ä¸ºé£ç‰›NASã€ç¾¤æ™–ç­‰NASç³»ç»Ÿè®¾è®¡ï¼Œæ”¯æŒæ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ã€ç®¡ç†ç­‰åŠŸèƒ½ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ³ **å®¹å™¨åŒ–éƒ¨ç½²**
- **Dockerå®¹å™¨åŒ–** - åŸºäºDockeréƒ¨ç½²ï¼Œæ”¯æŒå¤šç§NASç³»ç»Ÿ
- **è‡ªåŠ¨æ„å»º** - GitHub Actionsè‡ªåŠ¨æ„å»ºå¹¶æ¨é€åˆ°Docker Hub
- **NASä¼˜åŒ–** - ä¸“ä¸ºé£ç‰›NASã€ç¾¤æ™–ç­‰ç³»ç»Ÿä¼˜åŒ–
- **ä¸€é”®éƒ¨ç½²** - æ”¯æŒä¸€é”®éƒ¨ç½²å’Œæ›´æ–°

### ğŸ“ **æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ**
- **æ–‡ä»¶ä¸Šä¼ ** - æ”¯æŒå¤§æ–‡ä»¶ä¸Šä¼ ï¼ˆæœ€å¤§10GBï¼‰ï¼Œæ‹–æ‹½ä¸Šä¼ ï¼Œæ‰¹é‡ä¸Šä¼ 
- **æ–‡ä»¶ä¸‹è½½** - å•æ–‡ä»¶ä¸‹è½½ï¼Œæ‰¹é‡ä¸‹è½½ï¼ŒZIPå‹ç¼©åŒ…ä¸‹è½½
- **æ–‡ä»¶ç®¡ç†** - é‡å‘½åã€ç§»åŠ¨ã€å¤åˆ¶ã€åˆ é™¤æ–‡ä»¶
- **æ–‡ä»¶å¤¹ç®¡ç†** - åˆ›å»ºã€åˆ é™¤ã€é‡å‘½åæ–‡ä»¶å¤¹ï¼Œæ”¯æŒåµŒå¥—æ–‡ä»¶å¤¹ç»“æ„
- **æ–‡ä»¶é¢„è§ˆ** - æ”¯æŒå›¾ç‰‡ã€æ–‡æ¡£ã€è§†é¢‘ç­‰å¤šç§æ ¼å¼é¢„è§ˆ
- **æ–‡ä»¶é”å®š** - æ–‡ä»¶é”å®š/è§£é”åŠŸèƒ½ï¼Œé˜²æ­¢è¯¯æ“ä½œ
- **æ–‡ä»¶æ ‡ç­¾** - ä¸ºæ–‡ä»¶æ·»åŠ æ ‡ç­¾ï¼Œä¾¿äºåˆ†ç±»ç®¡ç†
- **æ–‡ä»¶æè¿°** - ä¸ºæ–‡ä»¶æ·»åŠ è¯¦ç»†æè¿°ä¿¡æ¯

### ğŸ” **æ™ºèƒ½æœç´¢**
- **å…¨æ–‡æœç´¢** - æ”¯æŒæ–‡ä»¶åã€æè¿°ã€æ ‡ç­¾çš„å…¨æ–‡æœç´¢
- **é«˜çº§ç­›é€‰** - æŒ‰æ–‡ä»¶ç±»å‹ã€å¤§å°ã€åˆ›å»ºæ—¶é—´ã€æ ‡ç­¾ç­‰æ¡ä»¶ç­›é€‰
- **æœç´¢å†å²** - ä¿å­˜æœç´¢å†å²ï¼Œå¿«é€Ÿé‡å¤æœç´¢
- **æ¨¡ç³Šæœç´¢** - æ”¯æŒæ¨¡ç³ŠåŒ¹é…å’Œæ™ºèƒ½æç¤º

### ğŸ‘¥ **ç”¨æˆ·æƒé™ç®¡ç†**
- **å¤šç”¨æˆ·æ”¯æŒ** - æ”¯æŒå¤šç”¨æˆ·æ³¨å†Œå’Œç™»å½•
- **æƒé™æ§åˆ¶** - åŸºäºJWTçš„èº«ä»½éªŒè¯å’Œæˆæƒ
- **ç”¨æˆ·ç®¡ç†** - ç®¡ç†å‘˜å¯ä»¥ç®¡ç†æ‰€æœ‰ç”¨æˆ·
- **æ“ä½œæ—¥å¿—** - è®°å½•æ‰€æœ‰ç”¨æˆ·æ“ä½œï¼Œä¾¿äºå®¡è®¡

### ğŸ¨ **ç°ä»£åŒ–ç•Œé¢**
- **Reactå‰ç«¯** - åŸºäºReact 18 + TypeScriptçš„ç°ä»£åŒ–ç•Œé¢
- **Ant Design** - ä½¿ç”¨Ant Designç»„ä»¶åº“ï¼Œç•Œé¢ç¾è§‚æ˜“ç”¨
- **å“åº”å¼è®¾è®¡** - æ”¯æŒæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯è®¿é—®
- **æš—è‰²ä¸»é¢˜** - æ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
- **å®æ—¶æ›´æ–°** - åŸºäºReact Queryçš„å®æ—¶æ•°æ®æ›´æ–°

### ğŸ”§ **æŠ€æœ¯ç‰¹æ€§**
- **Node.jsåç«¯** - åŸºäºExpress.jsçš„é«˜æ€§èƒ½åç«¯æœåŠ¡
- **SQLiteæ•°æ®åº“** - è½»é‡çº§æ•°æ®åº“ï¼Œæ— éœ€é¢å¤–é…ç½®
- **Nginxä»£ç†** - å‰ç«¯é™æ€æ–‡ä»¶æœåŠ¡å’ŒAPIä»£ç†
- **RESTful API** - å®Œæ•´çš„RESTful APIæ¥å£
- **æ–‡ä»¶å­˜å‚¨** - æœ¬åœ°æ–‡ä»¶å­˜å‚¨ï¼Œæ”¯æŒå¤§æ–‡ä»¶å¤„ç†
- **å®‰å…¨é˜²æŠ¤** - æ–‡ä»¶ç±»å‹éªŒè¯ã€å¤§å°é™åˆ¶ã€è·¯å¾„å®‰å…¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### Linux/Macç”¨æˆ·ï¼š
```bash
# ä¸‹è½½å¹¶è¿è¡Œå¿«é€Ÿéƒ¨ç½²è„šæœ¬
curl -fsSL https://raw.githubusercontent.com/wsndy666/wjgl/main/quick-deploy.sh | bash
```

#### Windowsç”¨æˆ·ï¼š
```cmd
# ä¸‹è½½å¹¶è¿è¡Œå¿«é€Ÿéƒ¨ç½²è„šæœ¬
curl -o quick-deploy.bat https://raw.githubusercontent.com/wsndy666/wjgl/main/quick-deploy.bat
quick-deploy.bat
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/wsndy666/wjgl.git
cd wjgl

# 2. è¿è¡Œéƒ¨ç½²è„šæœ¬
chmod +x deploy-from-hub.sh
./deploy-from-hub.sh
```

## ğŸ“¦ Dockeré•œåƒ

### ç»Ÿä¸€é•œåƒï¼ˆæ¨èï¼‰
é¡¹ç›®æä¾›ç»Ÿä¸€çš„Dockeré•œåƒï¼ŒåŒ…å«å‰ç«¯å’Œåç«¯æœåŠ¡ï¼š

- **ä¸»é•œåƒ**: `wsndy666/wjgl:latest`
- **å¤šæ¶æ„æ”¯æŒ**: linux/amd64, linux/arm64
- **è‡ªåŠ¨æ„å»º**: æ¯æ¬¡ä»£ç æ¨é€è‡ªåŠ¨æ„å»ºæœ€æ–°é•œåƒ

### æ‹‰å–é•œåƒ

```bash
# æ‹‰å–æœ€æ–°é•œåƒ
docker pull wsndy666/wjgl:latest

# æŸ¥çœ‹é•œåƒä¿¡æ¯
docker inspect wsndy666/wjgl:latest
```

### é•œåƒç‰¹æ€§
- **å¤šé˜¶æ®µæ„å»º** - ä¼˜åŒ–é•œåƒå¤§å°ï¼Œæé«˜æ„å»ºæ•ˆç‡
- **Nginx + Node.js** - å‰ç«¯é™æ€æ–‡ä»¶æœåŠ¡ + åç«¯APIæœåŠ¡
- **å¥åº·æ£€æŸ¥** - å†…ç½®å¥åº·æ£€æŸ¥æœºåˆ¶
- **æ•°æ®æŒä¹…åŒ–** - æ”¯æŒæ•°æ®å·æŒ‚è½½

## ğŸ  é£ç‰›NASéƒ¨ç½²

### åœ¨é£ç‰›NASä¸Šéƒ¨ç½²

```bash
# 1. è¿›å…¥é£ç‰›NASç»ˆç«¯
# 2. ä¸‹è½½éƒ¨ç½²è„šæœ¬
wget https://raw.githubusercontent.com/wsndy666/wjgl/main/quick-deploy.sh
chmod +x quick-deploy.sh
./quick-deploy.sh
```

### åœ¨é£ç‰›NAS Dockerç®¡ç†ç•Œé¢ä¸­æŸ¥çœ‹

éƒ¨ç½²å®Œæˆåï¼Œåœ¨é£ç‰›NASçš„Dockerç®¡ç†ç•Œé¢ä¸­åº”è¯¥èƒ½çœ‹åˆ°ï¼š

- **é¡¹ç›®åç§°**: wjgl
- **å®¹å™¨æ ‡ç­¾**: com.fn.nas.managed=true
- **å®¹å™¨åˆ†ç±»**: wjgl

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·æµè§ˆå™¨     â”‚    â”‚   Nginxä»£ç†     â”‚    â”‚   Node.jsåç«¯   â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚  Reactå‰ç«¯ç•Œé¢   â”‚â—„â”€â”€â–ºâ”‚  é™æ€æ–‡ä»¶æœåŠ¡   â”‚â—„â”€â”€â–ºâ”‚   Express API   â”‚
â”‚  Ant Design UI  â”‚    â”‚  APIä»£ç†è½¬å‘    â”‚    â”‚   SQLiteæ•°æ®åº“  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿ   â”‚
                       â”‚                 â”‚
                       â”‚  æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ   â”‚
                       â”‚  ç”¨æˆ·ç›®å½•éš”ç¦»   â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ
- **å‰ç«¯**: React 18 + TypeScript + Ant Design + React Query
- **åç«¯**: Node.js + Express.js + SQLite3
- **ä»£ç†**: Nginx
- **å®¹å™¨**: Docker + Docker Compose
- **CI/CD**: GitHub Actions
- **æ•°æ®åº“**: SQLiteï¼ˆè½»é‡çº§ï¼Œæ— éœ€é¢å¤–é…ç½®ï¼‰

### æ ¸å¿ƒæ¨¡å—
- **æ–‡ä»¶ç®¡ç†æ¨¡å—** - æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤ã€é‡å‘½åç­‰æ“ä½œ
- **æ–‡ä»¶å¤¹ç®¡ç†æ¨¡å—** - æ–‡ä»¶å¤¹åˆ›å»ºã€åˆ é™¤ã€ç§»åŠ¨ç­‰æ“ä½œ
- **æœç´¢æ¨¡å—** - å…¨æ–‡æœç´¢ã€é«˜çº§ç­›é€‰ã€æœç´¢å†å²
- **ç”¨æˆ·ç®¡ç†æ¨¡å—** - ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†
- **æ ‡ç­¾ç³»ç»Ÿ** - æ–‡ä»¶æ ‡ç­¾ç®¡ç†ã€åˆ†ç±»ç­›é€‰
- **æ“ä½œæ—¥å¿—** - ç”¨æˆ·æ“ä½œè®°å½•ã€å®¡è®¡è¿½è¸ª

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# åº”ç”¨é…ç½®
NODE_ENV=production
PORT=3001

# æ•°æ®åº“é…ç½®
DB_PATH=./data/database.sqlite

# JWTé…ç½®
JWT_SECRET=your-super-secret-jwt-key-change-this

# æ–‡ä»¶ä¸Šä¼ é…ç½®
UPLOAD_PATH=./data/uploads
MAX_FILE_SIZE=10737418240

# å‰ç«¯URL
FRONTEND_URL=http://localhost
```

### ç«¯å£é…ç½®

- **å‰ç«¯**: 80 (HTTP)
- **åç«¯**: 3001
- **Nginx**: 80, 443

## ğŸŒ è®¿é—®ç³»ç»Ÿ

### è®¿é—®åœ°å€
éƒ¨ç½²å®Œæˆåï¼Œé€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

- **å‰ç«¯ç•Œé¢**: http://ä½ çš„NAS IP:9999
- **APIæ¥å£**: http://ä½ çš„NAS IP:9999/api
- **å¥åº·æ£€æŸ¥**: http://ä½ çš„NAS IP:9999/api/health

### é»˜è®¤è´¦æˆ·
- **ç”¨æˆ·å**: admin
- **å¯†ç **: admin123

### ä¸»è¦åŠŸèƒ½é¡µé¢
- **æ–‡ä»¶ç®¡ç†** - æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ã€ç®¡ç†ã€é¢„è§ˆ
- **æœç´¢ä¸­å¿ƒ** - æ™ºèƒ½æœç´¢ã€é«˜çº§ç­›é€‰
- **ç”¨æˆ·ç®¡ç†** - ç”¨æˆ·æ³¨å†Œã€æƒé™ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰
- **ç³»ç»Ÿè®¾ç½®** - ä¸ªäººè®¾ç½®ã€ç³»ç»Ÿé…ç½®
- **ä»ªè¡¨æ¿** - ç³»ç»Ÿæ¦‚è§ˆã€ä½¿ç”¨ç»Ÿè®¡

### æ”¯æŒçš„æ–‡ä»¶ç±»å‹
- **å›¾ç‰‡**: JPG, PNG, GIF, WebP, SVG
- **æ–‡æ¡£**: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX
- **è§†é¢‘**: MP4, AVI, MOV, WMV, FLV
- **éŸ³é¢‘**: MP3, WAV, FLAC, AAC
- **å‹ç¼©åŒ…**: ZIP, RAR, 7Z, TAR, GZ
- **å…¶ä»–**: TXT, JSON, XML, CSVç­‰æ–‡æœ¬æ–‡ä»¶

## ğŸ“‹ ç®¡ç†å‘½ä»¤

### ä½¿ç”¨Docker Hubé•œåƒ

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose -f docker-compose.hub.yml ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose.hub.yml logs -f

# é‡å¯æœåŠ¡
docker-compose -f docker-compose.hub.yml restart

# åœæ­¢æœåŠ¡
docker-compose -f docker-compose.hub.yml down

# æ›´æ–°æœåŠ¡
docker-compose -f docker-compose.hub.yml pull
docker-compose -f docker-compose.hub.yml up -d
```

### ä½¿ç”¨æœ¬åœ°æ„å»º

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose -f docker-compose-local.yml ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose-local.yml logs -f

# é‡å¯æœåŠ¡
docker-compose -f docker-compose-local.yml restart

# åœæ­¢æœåŠ¡
docker-compose -f docker-compose-local.yml down
```

## ğŸ”„ è‡ªåŠ¨æ„å»º

é¡¹ç›®é…ç½®äº†GitHub Actionsï¼Œå½“ä»£ç æ¨é€åˆ°mainåˆ†æ”¯æ—¶ä¼šè‡ªåŠ¨ï¼š

1. æ„å»ºDockeré•œåƒ
2. æ¨é€åˆ°Docker Hub
3. ç”Ÿæˆéƒ¨ç½²æ–‡ä»¶

### é…ç½®GitHub Secrets

åœ¨GitHubä»“åº“ä¸­é…ç½®ä»¥ä¸‹Secretsï¼š

- `DOCKER_USERNAME`: ä½ çš„Docker Hubç”¨æˆ·å
- `DOCKER_PASSWORD`: ä½ çš„Docker Hubè®¿é—®ä»¤ç‰Œ

## ğŸ› ï¸ å¼€å‘

### æœ¬åœ°å¼€å‘

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/wsndy666/wjgl.git
cd wjgl

# å®‰è£…ä¾èµ–
cd backend && npm install
cd ../frontend && npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
cd backend && npm run dev
cd frontend && npm run dev
```

### æ„å»ºé•œåƒ

```bash
# æ„å»ºåç«¯é•œåƒ
docker build -t wsndy666/wjgl-backend:latest ./backend

# æ„å»ºå‰ç«¯é•œåƒ
docker build -t wsndy666/wjgl-frontend:latest ./frontend
```

## ğŸ“š æ–‡æ¡£

- [éƒ¨ç½²æŒ‡å—](wjgl-éƒ¨ç½²æŒ‡å—.md)
- [é£ç‰›NASéƒ¨ç½²æŒ‡å—](é£ç‰›NASéƒ¨ç½²æŒ‡å—.md)
- [GitHub Actionsé…ç½®](.github/workflows/docker-build.yml)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥çœ‹ [æ•…éšœæ’é™¤æŒ‡å—](wjgl-éƒ¨ç½²æŒ‡å—.md#æ•…éšœæ’é™¤)
2. æäº¤ [Issue](https://github.com/wsndy666/wjgl/issues)
3. æŸ¥çœ‹ [GitHub Actions](https://github.com/wsndy666/wjgl/actions) æ„å»ºçŠ¶æ€

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„æ”¯æŒï¼

---

**GitHub**: https://github.com/wsndy666/wjgl  
**Docker Hub**: https://hub.docker.com/r/wsndy666/wjgl-backend